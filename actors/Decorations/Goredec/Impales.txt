/// Impales ///

ACTOR DeadDeadStick: DeadStick Replaces DeadStick
{
	Health 50
	Mass 99999999
	Radius 16
	Height 64
	+SOLID
	+SHOOTABLE
	DropItem "HealthPlus" 55
	DropItem "HealthPlus" 55
	DropItem "ArmorShard" 55
	DropItem "ArmorShard" 55
	DropItem "Stimpack" 55
	DropItem "BulletCartridge" 55
	DropItem "NewShell" 55
    bloodtype "DeadBlood"
    damagefactor "Blood", 0.0    damagefactor "GreenBlood", 0.0    damagefactor "BlueBlood", 0.0    damagefactor "Taunt", 0.0    damagefactor "KillMe", 0.0  damagefactor "Avoid", 0.0  damagefactor "Taunt", 0.0
    GibHealth 10
	States
	{
			Spawn:
		    TNT1 A 0
			TNT1 A 0 A_SpawnItem("GoreFliesWsound", 0, random(0, 45))
			TNT1 AAAA 0 A_SpawnItem("GoreFlies", 0, random(0, 45))
			TNT1 A 0 A_SpawnItem("MediumBloodSpot",0,0)
			Goto Stand
			
		Stand:
			POL1 A 15 A_Look
			POL1 B 5
			POL1 A 15
			POL1 B 5
			TNT1 A 0 A_SpawnItemEX("MaggotSpawner", random(-8, 8), random(-8, 8), random(20, 60))
			Loop
		See:
			POL1 A 1 A_Chase
			Goto Stand
			
		Pain:
			POL1 A 6
			POL1 B 6
			Goto Spawn
		Death:
			POL1 CDEFGHIJKLMN 1
			POL1 N -1
			Stop
		XDeath:
			TNT1 A 0 A_SpawnItemEx("PB_ZombieXDeath",0,0,34,0,0,0,random (0, 360),SXF_ABSOLUTEVELOCITY|SXF_ABSOLUTEANGLE|SXF_NOCHECKPOSITION,0)
			POL1 O 7 
			POL1 P 4
			POL1 Q 4 
			POL1 RSTUV 4
			POL1 W -1
			Stop
		Raise:
			POL1 NMLKJIHGFEDC 1
			POL1 B 1
			Goto See
	}
}

ACTOR DeadLiveStick: LiveStick Replaces LiveStick
{
	Health 50
	Mass 99999999
	Radius 16
	Height 64
    GibHealth 10
	+SOLID
	+SHOOTABLE
	DropItem "HealthPlus" 55
	DropItem "HealthPlus" 55
	DropItem "ArmorShard" 55
	DropItem "ArmorShard" 55
	DropItem "Stimpack" 55
	DropItem "BulletCartridge" 55
	DropItem "NewShell" 55
    damagefactor "Blood", 0.0    damagefactor "GreenBlood", 0.0    damagefactor "BlueBlood", 0.0    damagefactor "Taunt", 0.0    damagefactor "KillMe", 0.0  damagefactor "Avoid", 0.0  damagefactor "Taunt", 0.0
    bloodtype "DeadBlood"
	States
	{
		Spawn:
		    TNT1 A 0			
			TNT1 A 0 A_CHangeFlag("THRUACTORS", 1)
			TNT1 A 0 A_ChangeFlag("NOBLOCKMAP", 1)
			TNT1 A 0 A_Jump(255, "Spawn11", "Spawn1", "Spawn1", "Spawn2", "Spawn2", "Spawn3", "Spawn3", "Spawn4", "Spawn4", "Spawn5", "Spawn6", "Spawn7", "Spawn8", "Spawn9", "Spawn10")
			Goto Spawn11
			
		Spawn1:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive1",0,0)
			Stop
			
		Spawn2:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive2",0,0)
			Stop	
			
		Spawn3:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive1a",0,0)
			Stop
			
		Spawn4:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive2a",0,0)
			Stop
			
		Spawn5:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive1b",0,0)
			Stop
			
		Spawn6:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive1c",0,0)
			Stop
			
		Spawn7:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive1d",0,0)
			Stop
		
		Spawn8:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive2b",0,0)
			Stop
			
		Spawn9:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive2c",0,0)
			Stop
	
		Spawn10:
			TNT1 A 0
			TNT1 A 0 A_SpawnItem("ImpaledMarineAlive2d",0,0)
			Stop	
		
		Spawn11:
			TNT1 A 0 A_SpawnItemEx("LiveStick1",0,0)
			Stop
	}
}
		
ACTOR LiveStick1: DeadLiveStick // Makes the vanilla Doom live stick decoration shootable again.
{
	States
	{
		Spawn:
			TNT1 A 0 A_SpawnItem("MediumBloodSpot",0,0)
		Stand:
			POL6 A 6
			POL6 B 8
			POL6 A 6
			POL6 B 8
			POL6 A 6
			POL6 B 8
			POL6 A 6
			POL6 B 8
			TNT1 A 0 A_SpawnItemEx ("DripingBlood", random (-5, 5), random (-5, 5), 20)
			Loop
		See:
			POL6 A 1 A_Chase
			Goto Stand
		Pain:
			POL6 A 6
			POL6 B 8 A_Pain
			Goto Stand
		Death:
			POL6 B 50 A_Scream
			POL6 CDEFGHIJKL 1
			POL6 L -1
			Stop
		XDeath:
		 	TNT1 A 0 A_SpawnItemEx("PB_ZombieXDeath",0,0,34,0,0,0,random (0, 360),SXF_ABSOLUTEVELOCITY|SXF_ABSOLUTEANGLE|SXF_NOCHECKPOSITION,0)
			POL6 M 0
			POL6 N 3 A_XScream
			POL6 O 3 
			POL6 PQRST 3
			POL6 U -1
			Stop
		Raise:
			POL6 L 50
			POL6 KJIHGFEDC 1
			POL6 B 1
			Goto See
	}
}
ACTOR BlockingStick
{
	Radius 1
	Height 64
	ProjectilePassHeight 1
	-SOLID
	States
	{
	Spawn:
		TNT1 A 20
		Stop
	}
}

ACTOR ImpaledMarineAlive1: DeadLiveStick
{
Health 20
Painchance 255
damagefactor "Fire", 2.0
height 60
MONSTER
+FRIENDLY
-COUNTKILL
deathheight 60 DamageFactor "Use", 0 DamageFactor "SSG", 9999.0
Damagefactor "Melee", 0.1 DamageFactor "Kick", 0.1
	Health 50
	States
	{
	Spawn:
	    TNT1 A 0 A_SpawnItem("MediumBloodSpot",0,0)
		Goto Stand
	Stand:
		POLF A 56
		TNT1 A 0 A_Jump(128, "Moan")
		Loop
		
	Moan:
		TNT1 A 0 A_PlaySound("TorturedMarineBD", 1)
		POLF ABABAB 5
		POLF A 10
		Goto Stand
    Death:
        TNT1 A 0 A_ScreamAndUnblock
		TNT1 A 0 A_PlaySound("TorturedMarineDieBD", 1)
        POLF C 4
		POLF C -1
		Stop
		
		
	Pain:
        TNT1 A 0 A_PlaySound("TorturedMarinePain", 1)
        POLF ABAB 2
		POLF ABABAB 5
		POLF A 16
		Goto Stand
		
	Death.Fire: Death.Flames:
		TNT1 A 0 A_PlaySound("BIGSCREA")
		POLF DEDEDEDEDEDE 3 A_SpawnItem("BurnParticles", 0, 20)
		POLF DEDEDEDEDEDEDEDEDE 3 A_SpawnItem("BurnParticles", 0, 20)
		TNT1 A 0 A_SpawnItem("BarrelExplosionSmokeColumn")
		TNT1 AA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF FFFFFFFFF 4 A_SpawnItem("BurnParticles", 0, 20)
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF FFFFFFFFF 4 A_SpawnItem("BurnParticles", 0, 20)
		TNT1 A 0 A_SpawnItem("BarrelExplosionSmokeColumn")
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF F -1
		Stop
		
	 Death.Explosives: Death.ExplosiveIMpact:
	 XDeath: Death.SSG:
        NULL A 0 A_Takeinventory("Kicking",1)
		MARN A 0 A_GiveInventory("PlayerIsDead", 1)
		NULL A 0 ThrustThingZ(0,60,0,1)
		PPOD A 0 A_SpawnItemEx("BasicMarineGib1", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERTRANSLATION)
		PPOD A 0 A_SpawnItemEx("BasicMarineGib2", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERTRANSLATION)
		PPOD A 0 A_SpawnItemEx("BasicMarineGib3", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERTRANSLATION)
		PPOD A 0 A_SpawnItemEx("BasicMarineGib4", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERTRANSLATION)
		NULL A 0 A_CustomMissile ("MeatDeath", 0, 0, random (0, 360), 2, random (0, 160))
        MHEA B 0 A_ChangeFlag("THRUACTORS", 1)
        MHEA CD 0
        //MHEA E -1
		NULL A 0 A_CustomMissile ("XDeathArm1", 32, 0, random (0, 360), 2, random (0, 90))
		NULL A 0 A_SpawnItem ("BigBloodSpot")
		NULL AAAAA 0 A_CustomMissile ("Instestin", 32, 0, random (0, 360), 2, random (0, 160))
		XDMG E 1
		NULL AAAAAAAAAAAAAAA 0 A_CustomMissile ("SuperWallRedBlood", 40, 0, random (0, 360), 2, random (-5, 5))
	    NULL AAAAAA 0 bright A_CustomMissile ("SuperGoreSpawner", 5, 0, random (0, 360), 2, random (30, 180))
		XDMG E -1
		Stop	
	}
}



ACTOR ImpaledMarineAlive2: ImpaledMarineAlive1
{
	States
	{
	Spawn:
	    TNT1 A 0 A_SpawnItem("MediumBloodSpot",0,0)
		Goto Stand
	Stand:
		POLF G 64
		TNT1 A 0 A_Jump(128, "Moan")
		Loop
		
	Moan:
		TNT1 A 0 A_PlaySound("TorturedMarineBD", 1)
		POLF GHGHGH 5
		POLF G 10
		Goto Stand
		
		
	Pain:
        TNT1 A 0 A_PlaySound("TorturedMarinePain", 1)
        POLF GHGH 2
		POLF GHGHGH 5
		POLF G 16
		Goto Stand
		
    Death:
        TNT1 A 0 A_ScreamAndUnblock
		TNT1 A 0 A_PlaySound("TorturedMarineDieBD", 1)
        POLF I 4
		POLF J -1
		Stop
		
	Death.Fire: Death.Flames:
		TNT1 A 0 A_PlaySound("BIGSCREA")
		POLF KLKLKLKLKLKL 3 A_SpawnItem("BurnParticles", 0, 10)
		POLF KLKLKLKLKLKLKLKLKL 3 A_SpawnItem("BurnParticles", 0, 10)
		TNT1 A 0 A_SpawnItem("BarrelExplosionSmokeColumn")
		TNT1 AA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF MMMMMMMMM 4 A_SpawnItem("BurnParticles", 0, 10)
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF MMMMMMMMM 4 A_SpawnItem("BurnParticles", 0, 10)
		TNT1 A 0 A_SpawnItem("BarrelExplosionSmokeColumn")
		TNT1 AAA 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 AAAA 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		POLF M -1
		Stop	
	}
}


Actor ImpaledMarineAlive2A: ImpaledMarineAlive2
{ XScale -1.0 YScale 1.0}
Actor ImpaledMarineAlive2b: ImpaledMarineAlive2
{Translation  "112:127=32:47", "48:79=64:79" }
Actor ImpaledMarineAlive2c: ImpaledMarineAlive2
{Translation "112:127=96:111" }
Actor ImpaledMarineAlive2d: ImpaledMarineAlive2
{translation "112:127=[0,128,192]:[0,0,0]" }


Actor ImpaledMarineAlive1A: ImpaledMarineAlive1
{ XScale -1.0 YScale 1.0}
Actor ImpaledMarineAlive1b: ImpaledMarineAlive1
{Translation  "112:127=32:47", "48:79=64:79" }
Actor ImpaledMarineAlive1c: ImpaledMarineAlive1
{Translation "112:127=96:111" }
Actor ImpaledMarineAlive1d: ImpaledMarineAlive1
{translation "112:127=[0,128,192]:[0,0,0]" }