//Flame Cannon tokens
Actor DaedabusSlimeSelected: Inventory
{
Inventory.MaxAmount 1
}

Actor DaedabusWithGravity: DaedFire
{
	Damage 60
}

Actor DaedabusSwitchModeEffect 
{
	Speed 5
	States
	{
		Spawn:
		TNT1 AAAA 0 A_SpawnItemEx("GreenPlasma_Puff_Small", random(5,6),random(-1,1),random(-12,-6),8,0,0,0,SXF_NOCHECKPOSITION)
		TNT1 AAAA 0 A_SpawnItemEx("GreenTrailSparks", random(5,6),random(-1,1),random(-12,-6),8,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}

Actor MancubusSwitchModeEffect 
{
	Speed 5
	States
	{
		Spawn:
		TNT1 AAAA 0 A_SpawnItemEx("FireballExplosionFlamesSmall", random(5,6),random(-1,1),random(-12,-6),8,0,0,0,SXF_NOCHECKPOSITION)
		TNT1 AAAA 0 A_SpawnItemEx("BurningEmberParticlesFloating_Bigger", random(5,6),random(-1,1),random(-12,-6),8,0,0,0,SXF_NOCHECKPOSITION)
		Stop
	}
}
//---------------------------------------------------------------------------
// Mancubus Flame Cannon (To be redone as a Flamethrower soon.)
//---------------------------------------------------------------------------
ACTOR PB_Flamethrower : PB_Weapon
{
	Weapon.BobRangeX 0.3
	Weapon.BobRangeY 0.5
	Weapon.BobStyle InverseSmooth
	Weapon.BobSpeed 2.4
	Height 20
	Weapon.SelectionOrder 5550
	Weapon.AmmoUse 0
	Weapon.AmmoGive 50
	Weapon.AmmoType "Gas"
    Inventory.PickupSound "FLMDRAW"
     +WEAPON.NOAUTOAIM
	+FLOORCLIP
	+DONTGIB
	Inventory.PickupMessage "You got the Mancubus Flame Cannon! (Slot 0)"
	Tag "Flame Cannon"
	States
	{
	Steady:
	TNT1 A 1
	Goto Ready
	
	Ready:
	    TNT1 A 0
        TNT1 A 0 A_PlaySound("FLMDRAW")
		FLMS ABCD 1
        TNT1 AAAAAAAA 0
		TNT1 A 0 A_JumpIfInventory("Gas", 4, 1)
		Goto NoAmmo
		TNT1 A 0
		TNT1 A 0 A_SelectWeapon("PB_Unmaker")
        TNT1 A 0 A_PlaySound("FLMRIDL",6,1,1)
	Ready3:
		TNT1 A 0 A_JumpIfInventory("DaedabusSlimeSelected", 1, "Ready2")
	    FLMG GHI 1 A_DoPBWeaponAction
	    Goto Ready+8

	Ready2:
        TNT1 AAA 0
		TNT1 A 0 A_JumpIfInventory("Gas", 4, 1)
		Goto NoAmmo
		TNT1 A 0 A_SelectWeapon("PB_Unmaker")
        TNT1 A 0 A_PlaySound("FLMRIDL",6,1,1)
	    FLMG JKL 1 A_DoPBWeaponAction
	    Goto Ready2
		
		
	WeaponSpecialPurist:
		TNT1 A 0 A_Print("Weapon Special Not Available in Classic Mode!")
		TNT1 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto Ready+8
		
	WeaponSpecial:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_JumpIfInventory("IsPlayingAsPurist", 1, "WeaponSpecialPurist")
		TNT1 A 0 A_TakeInventory("GoWeaponSpecialAbility", 1)
		TNT1 A 0 A_JumpIfInventory("DaedabusSlimeSelected", 1, "DeselectSlime")
		TNT1 A 0 A_GiveInventory("DaedabusSlimeSelected", 1)
		TNT1 A 0 A_Print("Firemode: Daedabus Slime")
		TNT1 A 0 A_PlaySound("FLMSWTC", 3)//FLMDRAW
		FLMY ABCDEFGH 2
		TNT1 A 0 A_PlaySound("HRSteam", 6)//FLMDRAW
		TNT1 A 0 A_FireCustomMissile("DaedabusSwitchModeEffect", 0, 0, 0, random(-12,-5))
		TNT1 AAAAA 0 A_FireCustomMissile("GunFireSmoke", random(-5,5), 0, random(-3,3),random(-12,-5))
		TNT1 AAAAA 0 A_FireCustomMissile("PlasmaParticle", random(-5,5), 0, random(-3,3),random(-12,-5))
		FLMY IJJJ 2 
		TNT1 A 0 A_PlaySound("FLMDRAW", 7)
		FLMY HGFEDCBA 2
		Goto Ready2
		
	DeselectSlime:
		TNT1 A 0 A_TakeInventory("DaedabusSlimeSelected", 1)
		TNT1 A 0 A_Print("Firemode: Mancubus Flame")
		TNT1 A 0 A_PlaySound("FLMSWTC", 3)//FLMDRAW
		FLMY ABCDEFGH 2
		TNT1 A 0 A_PlaySound("HRSteam", 6)//FLMDRAW
		TNT1 AAAAA 0 A_FireCustomMissile("GunFireSmoke", random(-5,5), 0, random(-3,3),random(-12,-5))
		TNT1 A 0 A_FireCustomMissile("MancubusSwitchModeEffect", 0, 0, 0, random(-12,-5))
		TNT1 AAAAA 0 A_FireCustomMissile("ShotgunParticles", random(-5,5), 0, random(-3,3),random(-12,-5))
		FLMY IJJJ 2 
		TNT1 A 0 A_PlaySound("FLMDRAW", 7)
		FLMY HGFEDCBA 2
		Goto Ready+8
		
	DryFire:
		TNT1 A 0 A_PlaySound("HRSteam")//FLMDRAW
		TNT1 AAAA 0 A_FireCustomMissile("GunFireSmoke", random(-5,5), 0, random(-3,3),random(-4,-2))
	    FLMY ABCDBAAA 2 //A_PlaySound("weapons/empty")
	NoAmmo:
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_StopSound(3)
		TNT1 A 0 A_StopSound(2)
		TNT1 A 0 A_ZoomFactor(1.0)
		FLMG Z 1 A_DoPBWeaponAction
		TNT1 A 0 A_JumpIfInventory("Gas", 4, 1)
		Loop
		TNT1 A 0
		Goto Ready+8
	
	Deselect:
	    TNT1 A 0 A_StopSound(CHAN_WEAPON)
	    TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_JumpIfInventory("PB_Unmaker",1,6)
		TNT1 A 0 A_JumpIfInventory("GotMeatShield", 1, "GrabEnemy")
		FLMS DCBA 1
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Lower
		Wait

	Select:
		TNT1 A 0
		Goto SelectFirstPersonLegs
		SelectContinue:
		TNT1 A 0 A_SelectWeapon("PB_Unmaker")
		TNT1 A 0 A_TakeInventory("RifleSelected",1)
		TNT1 A 0 A_TakeInventory("CarbineSelected",1)
		TNT1 A 0 A_TakeInventory("FistsSelected",1)
		TNT1 A 0 A_TakeInventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("SledgeSelected",1)
		TNT1 A 0 A_TakeInventory("HandgunSelected",1)
		TNT1 A 0 A_TakeInventory("DualHandgunSelected",1)
		TNT1 A 0 A_TakeInventory("RevolverSelected",1)
		TNT1 A 0 A_TakeInventory("ShotgunSelected",1)
		TNT1 A 0 A_TakeInventory("SSGSelected",1)
		TNT1 A 0 A_TakeInventory("ASGSelected",1)
		TNT1 A 0 A_TakeInventory("QSGSelected",1)
		TNT1 A 0 A_TakeInventory("MinigunSelected",1)
		TNT1 A 0 A_TakeInventory("NewChaingunSelected",1)	
		TNT1 A 0 A_TakeInventory("RocketLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("GrenadeLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("SGLSelected",1)
		TNT1 A 0 A_TakeInventory("PlasmaGunSelected",1)
		TNT1 A 0 A_TakeInventory("M2Selected",1)	
		TNT1 A 0 A_TakeInventory("FreezerSelected",1)
		TNT1 A 0 A_TakeInventory("RailGunSelected",1)
		TNT1 A 0 A_TakeInventory("BFGSelected",1)
		TNT1 A 0 A_TakeInventory("BFGBeamSelected",1)
		TNT1 A 0 A_TakeInventory("BHCSelected",1)
		TNT1 A 0 A_TakeInventory("RevenantLauncherSelected",1)
		TNT1 A 0 A_GiveInventory("FlameCannonSelected",1)
		TNT1 A 0 A_TakeInventory("HellRifleSelected",1)
		TNT1 A 0 A_TakeInventory("LandMineSelected",1)
		TNT1 A 0 A_TakeInventory("UACSMGSelected",1)
		TNT1 A 0 A_TakeInventory("SubMachineGunSelected",1)
		TNT1 A 0 A_TakeInventory("LostSoulSelected",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		TNT1 A 0 A_TakeInventory("HasBurningBarrel",1)
		TNT1 A 0 A_TakeInventory("HasIncendiaryWeapon", 1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 AAAAAAAA 1 A_Raise
	    wait
		
    Spawn:
        MANA H 1
        Loop
		
	AltFire:
		TNT1 A 0 A_WeaponOffset(0,32)
        TNT1 A 0 A_JumpIfInventory("Gas", 15, "Fireball")
		TNT1 A 0 A_StopSound(6)
		TNT1 A 0 A_StopSound(CHAN_WEAPON)
		Goto DryFire
		
	Fireball:	
        FLMF A 1 BRIGHT A_FireCustomMissile("BigFireBallWithGravity", 0, 1, 0, 0)
		TNT1 A 0 A_SetPitch(-4.0 + pitch)
		TNT1 A 0 A_TakeInventory("Gas", 15)
		TNT1 A 0 A_FireCustomMissile("ShakeYourAssDouble", 0, 0, 0, 0)
        FLMF BC 1 BRIGHT 
        FLMF CD 1 A_SetPitch(+2.0 + pitch)
		FLMG A 10
		Goto Ready+8

	////////////////////////////////////////////////////////
	Fire:
		TNT1 A 0 A_WeaponOffset(0,32)
		TNT1 A 0 A_JumpIfInventory("DaedabusSlimeSelected", 1, "FireSlime")
        TNT1 A 0 A_JumpIfInventory("Gas",15,4)
		Goto DryFire
        TNT1 AAAA 0
		TNT1 A 0 A_StopSound(6)
        TNT1 A 0 A_TakeInventory("Gas",15)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_ZoomFactor(0.97)
        FLMF A 2 BRIGHT A_FireCustomMissile("BigFireBallWithGravity", 0, 1, 0, 0)
		TNT1 A 0 A_ZoomFactor(1.0)
	    TNT1 A 0 A_FireCustomMissile("ShakeYourAssDouble", 0, 0, 0, 0)
		TNT1 AAAAA 0 BRIGHT A_FireCustomMissile("ShotgunParticles", random(-17,17), 0, -1, random(-12,12))
		TNT1 A 0 PB_WeaponRecoil(-3.2 * pb_weapon_recoil_extra_weapons,+1.61 * pb_weapon_recoil_extra_weapons) //Add some recoil - sarge945
		
        FLMF BCD 2 BRIGHT
        FLMF EF 2
	    FLMG GHI 2
	    Goto Ready+8
		
	FireSlime:
		TNT1 A 0 A_JumpIfInventory("Gas",10,4)
		Goto DryFire
        TNT1 AAAA 0
		TNT1 A 0 A_StopSound(6)
        TNT1 A 0 A_TakeInventory("Gas",10)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 //A_PlaySound("BIOSHOOT", CHAN_WEAPON)
		TNT1 A 0 A_ZoomFactor(0.97)
        FLMF G 2 BRIGHT A_FireCustomMissile("DaedabusWithGravity", 0, 1, 0, 0)
		TNT1 AAAAA 0 BRIGHT A_FireCustomMissile("PlasmaParticle", random(-17,17), 0, -1, random(-9,9))
		TNT1 A 0 A_ZoomFactor(1.0)
	    TNT1 A 0 A_FireCustomMissile("ShakeYourAssDouble", 0, 0, 0, 0)
	    TNT1 A 0 PB_WeaponRecoil(-3.2 * pb_weapon_recoil_extra_weapons,+1.61 * pb_weapon_recoil_extra_weapons) //Add some recoil - sarge945
		
        FLMF HIJ 2 BRIGHT
        FLMF KL 2
	    FLMG JKL 1
	    Goto Ready+8
   AltFire:
		TNT1 A 0 A_WeaponOffset(0,32)
		TNT1 A 0 A_JumpIfInventory("DaedabusSlimeSelected", 1, "AltFireSlime")
        TNT1 A 0 A_JumpIfInventory("Gas",4,2)
		Goto DryFire
        TNT1 AAAA 0
        TNT1 A 0 A_TakeInventory("Gas",4)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_ZoomFactor(0.925)
		TNT1 A 0 A_PlaySoundEx("FLMRST1", "Weapon")
		FLMF A 1 BRIGHT
		FLMF B 1 BRIGHT A_FireCustomMissile("FlamethrowerMissile", 0, 1, 0, -1)
        FLMF Z 1 BRIGHT
   AltHold:
        TNT1 A 0 A_JumpIfInventory("Gas",4,3)
		TNT1 A 0 A_StopSoundEx("Weapon")
		TNT1 A 0 A_PlaySoundEx("FLMREND", "Weapon")
		Goto StopFlamer
        TNT1 A 0 A_TakeInventory("Gas",4)
		TNT1 A 0 A_AlertMonsters
        FLMF Y 1 BRIGHT A_SetAngle(random(1, -1) + angle)
		TNT1 AAA 0 BRIGHT A_FireCustomMissile("ShotgunParticles", random(-17,17), 0, -1, random(-12,9))
		TNT1 A 0 A_FireCustomMissile("FlamethrowerMissile", 0, 1, 0, -1)
        FLMF X 1 BRIGHT A_SetPitch(random(1, -1) + pitch)
		TNT1 AAA 0 BRIGHT A_FireCustomMissile("ShotgunParticles", random(-17,17), 0, -1, random(-12,9))
		TNT1 A 0 A_FireCustomMissile("FlamethrowerMissile", 0, 1, 0, -1)
        FLMF Z 1 BRIGHT A_SetPitch(random(1, -1) + pitch)
		TNT1 A 0 A_PlaySoundEx("FLMRLOP", "Weapon",1)
		TNT1 A 0 A_ReFire("AltHold")
		TNT1 A 0 A_StopSoundEx("Weapon")
		TNT1 A 0 A_PlaySoundEx("FLMREND", "Weapon")
		TNT1 A 0 A_ZoomFactor(1.0)
        Goto StopFlamer
		
	AltFireSlime:
		TNT1 A 0 A_JumpIfInventory("Gas",4,4)
		Goto NoAmmo
        TNT1 AAAA 0
        TNT1 A 0 A_TakeInventory("Gas",4)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_StopSound(2)
		TNT1 A 0 A_Playsound("FlmrStr", 6)
		TNT1 A 0 A_ZoomFactor(0.925)
		FLMF F 1 BRIGHT
		TNT1 A 0 A_PlaySound("acid/spew", 3, 1, 1)
		FLMF G 1 BRIGHT A_FireCustomMissile("GreenCloudMissile", 0, 1, 0, -5)
		
        FLMF H 1 BRIGHT
   SlimeHold:
        TNT1 A 0 A_JumpIfInventory("Gas",5,2)
		Goto StopAcid
        TNT1 AAAA 0
        TNT1 A 0 A_TakeInventory("Gas",4)
		TNT1 A 0 A_AlertMonsters
        FLMF I 1 BRIGHT A_SetAngle(random(1, -1) + angle)
		TNT1 AAA 0 BRIGHT A_FireCustomMissile("PlasmaParticle", random(-17,17), 0, -1, random(-9,9))
		TNT1 A 0 A_FireCustomMissile("GreenCloudMissile", 0, 0, 0, -5)
        FLMF H 1 BRIGHT A_SetPitch(random(1, -1) + pitch)
		TNT1 A 0 A_ReFire("SlimeHold")
		TNT1 A 0 A_ZoomFactor(1.0)
        Goto StopAcid
		
	StopAcid:
		TNT1 A 0 A_StopSound(3)
		TNT1 A 0 A_JumpIfInventory("Gas",5,1)
		Goto DryFire
		TNT1 A 0
		TNT1 A 0 A_PlaySound("acid/spewstop ", 2)
		TNT1 AAAAA 0 A_FireCustomMissile("GunFireSmoke", random(-5,5), 0, random(-3,3),random(-5,-2))
		TNT1 AAAA 0 A_FireCustomMissile("PlasmaParticle", random(-5,5), 0, random(-3,3),random(-5,-2))
		FLMF H 2 BRIGHT A_FireCustomMissile("GreenCloudMissile", 0, 0, 0, 5)
		FLMF J 2 BRIGHT A_FireCustomMissile("GreenCloudMissile", 0, 0, 0, 5)
		FLMF KL 1
		Goto Ready2
   
	
	StopFlamer:
		TNT1 A 0 A_JumpIfInventory("Gas",4,3)
		Goto DryFire
		FLMF A 1 BRIGHT A_FireCustomMissile("FlamethrowerMissile", 0, 1, 0, 1)
		FLMF B 1 BRIGHT A_FireCustomMissile("FlamethrowerMissile", 0, 1, 0, 0)
		TNT1 AAAAA 0 A_FireCustomMissile("GunFireSmoke", random(-5,5), 0, random(-3,3),random(-5,-2))
		FLMF CD 1 BRIGHT
		FLMF EF 1 
		Goto Ready+8

    FlashKicking:
		FLMG A 1 
		FLMG B 1 
		FLMG B 1 
		FLMG C 3 
		FLMG D 3
		FLMG C 3 
		FLMG B 1 
		FLMG B 1 
		FLMG A 1 
		FLMG AAA 1 
		Stop
		
	FlashAirKicking:
		FLMG A 1 
		FLMG B 1 
		FLMG B 1 
		FLMG C 3 
		FLMG D 3
		FLMG C 3 
		FLMG B 1 
		FLMG B 1 
		FLMG A 1 
		FLMG AAAA 1  
		Stop
		
	FlashSlideKicking:
		FLMG AB 2 
		FLMG BBCCDDDEEDD 2  
		Stop
		
	FlashSlideKickingStop:
		//TNT1 A 0
		FLMG DDCBBA 1 
		FLMG A 1 
		Stop

	FlashPunching:
		FLMG A 1 
		FLMG B 1 
		FLMG B 1 
		FLMG C 3 
		FLMG D 3
		FLMG C 3 
		FLMG B 1 
		FLMG B 1 
		FLMG A 1 
		FLMG AAA 1 
		Stop
	}
}

ACTOR BigFireBallWithGravity: BigFireBall
{
Damage 14
Gravity 0.2
+NOGRAVITY
+NOBLOOD
+BLOODLESSIMPACT
Speed 30
States
{
	
	Spawn:
	    TNT1 A 0
		TNT1 A 0 ACS_ExecuteAlways(798, 0, 0, 0, 0)//Check Effects
		TNT1 A 0 A_JumpIfInventory("lowgraphicsmode", 1, "SpawnCheap")
		TNT1 A 0 A_Playsound("BGFLMBL", 6, 1, 1)
	Spawn1:
		TNT1 A 0 
		BLHD CD 1 BRIGHT A_SpawnItem ("FireballExplosionFlamesSmall")
		TNT1 A 0 A_SpawnItemEx("BurningEmberParticlesFloating_Bigger", random(7,-7), random(7,-7), random(8,-8), 0, 0, 0, 0, 128, 0)
		TNT1 A 0 A_CustomMissile ("RocketSmokeTrail52", 2, 0, random (70, 110), 2, random (0, 360))
		Loop

	Death:
	TNT1 A 0
    TNT1 A 0 A_Explode (90, 150)
	Goto ExplosionEffect
}
}


ACTOR Gas : Ammo
{
   Inventory.Amount 500
   Inventory.MaxAmount 999
   Ammo.BackpackAmount 500
   Ammo.BackpackMaxAmount 999
   Inventory.Icon "GSLNA0"
   Inventory.PickupMessage "You got Gasoline."
   States
   {
   Spawn:
		GSLN A -1
		Stop
   }
}



ACTOR Flames
{
	Radius 6
	Height 8
	Speed 30
	Damage 1
	Projectile 
	+RANDOMIZE
	+FORCEXYBILLBOARD
    +RIPPER
    +BLOODLESSIMPACT 
	RenderStyle Add
    DamageType Flames
    Scale 2.0
	Alpha 1
	SeeSound "fatso/attack"
	DeathSound "fatso/shotx"
    Decal "BigScorch"
	States
	{
    Spawn:
        TNT1 C 6
        Goto See
	See:
        TNT1 A 0 A_Explode (15, 40)
        FRFX C 2 BRIGHT A_SpawnItem("RedFlareMedium",0,0)
        TNT1 A 0 A_Explode (15, 40)
        FRFX C 2 BRIGHT A_SpawnItem("RedFlareMedium",0,0)
        TNT1 A 0 A_Explode (15, 40)
	    EXPL AA 0 A_CustomMissile ("ExplosionSmoke", 32, 0, random (0, 360), 2, random (0, 360))
        TNT1 A 0 A_Explode (15, 40)
        FRFX FGHIJKLMNOPG 2 BRIGHT A_SpawnItem("RedFlareMedium",0,0)
		Goto Death
	Death:
	    EXPL AA 0 A_CustomMissile ("ExplosionSmoke", 32, 0, random (0, 360), 2, random (0, 360))
	    TNT1 A 0 A_SpawnItem("RedFlareMedium",0,0)
		Stop
	}
}
Actor IsRunning : Inventory {}
Actor HasRailgun: Inventory
{
Inventory.MaxAmount 1
}
Actor IsUsingOverlay : Inventory {}
Actor IsInvisible : Inventory {}
ACTOR HellishMissileLauncher : PB_Weapon
{
Weapon.BobRangeX 0.3
	Weapon.BobRangeY 0.5
	Weapon.BobStyle InverseSmooth
	Weapon.BobSpeed 2.4
	+FLOORCLIP
	+DONTGIB
	Height 20
	//Weapon.SelectionOrder 2800
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 1
	Weapon.AmmoGive 8
	Weapon.AmmoType1 "MiniHellRocketAmmo"
	Weapon.AmmoType2 "MiniHellRocketAmmo"
    Inventory.PickupSound "revup"
	Tag "Hellish Missile Launcher"
    -WEAPON.NOAUTOFIRE
	+WEAPON.NOALERT
   // +WEAPON.MELEEWEAPON
	+WEAPON.DONTBOB
	+WEAPON.NOAUTOAIM
	Inventory.PickupMessage "You got the Revenant's Hellish Missile Launcher! (Slot 0)"
	States
	{
	Steady:
	TNT1 A 1
	Goto Ready
	
	Ready:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"Ready2")
        TNT1 A 0 A_PlaySound("revup")
	    RVCS DCBA 1 
	    TNT1 A 0 A_JumpIfInventory("GoFatality", 1, "Steady")
        TNT1 AAA 0
	Ready3:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"SeriouslyReady2")
		RVCG A 1 A_DoPBWeaponAction
	    Goto Ready+8
		
	Ready2:
	    TNT1 A 0
        TNT1 A 0 A_PlaySound("revup")
	    RVCS HGFE 1 
	    TNT1 A 0 A_JumpIfInventory("GoFatality", 1, "Steady")
        TNT1 AAA 0
	SeriouslyReady2:
	    RVCG C 1 A_DoPBWeaponAction
	    Goto Ready2+8
	
	Deselect:
		TNT1 A 0 A_JumpIfInventory("GotMeatShield", 1, "GrabEnemy")
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"Deselect2")
	    RVCS ABCD 1 
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Lower
	    Wait

	Deselect2:
	    RVCS EFGH 1 
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Lower
		Wait
		
	Select:
		TNT1 A 0
		Goto SelectFirstPersonLegs
		SelectContinue:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"Select2")
		TNT1 A 0 A_TakeInventory("IsUsingOverlay",1)
		TNT1 A 0 A_TakeInventory("FistsSelected",1)
		TNT1 A 0 A_TakeInventory("RifleSelected",1)
		TNT1 A 0 A_TakeInventory("CarbineSelected",1)
		TNT1 A 0 A_TakeInventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("SledgeSelected",1)
		TNT1 A 0 A_TakeInventory("HandgunSelected",1)
		TNT1 A 0 A_TakeInventory("DualHandgunSelected",1)
		TNT1 A 0 A_TakeInventory("RevolverSelected",1)
		TNT1 A 0 A_TakeInventory("ShotgunSelected",1)
		TNT1 A 0 A_TakeInventory("SSGSelected",1)
		TNT1 A 0 A_TakeInventory("ASGSelected",1)
		TNT1 A 0 A_TakeInventory("QSGSelected",1)
		TNT1 A 0 A_TakeInventory("MinigunSelected",1)
		TNT1 A 0 A_TakeInventory("NewChaingunSelected",1)	
		TNT1 A 0 A_TakeInventory("RocketLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("GrenadeLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("SGLSelected",1)
		TNT1 A 0 A_TakeInventory("PlasmaGunSelected",1)
		TNT1 A 0 A_TakeInventory("M2Selected",1)	
		TNT1 A 0 A_TakeInventory("FreezerSelected",1)
		TNT1 A 0 A_TakeInventory("RailGunSelected",1)
		TNT1 A 0 A_TakeInventory("BFGSelected",1)
		TNT1 A 0 A_TakeInventory("BFGBeamSelected",1)
		TNT1 A 0 A_TakeInventory("BHCSelected",1)
		TNT1 A 0 A_TakeInventory("FlameCannonSelected",1)
		TNT1 A 0 A_TakeInventory("HellRifleSelected",1)
		TNT1 A 0 A_TakeInventory("LandMineSelected",1)
		TNT1 A 0 A_TakeInventory("UACSMGSelected",1)
		TNT1 A 0 A_TakeInventory("SubMachineGunSelected",1)
		TNT1 A 0 A_TakeInventory("LostSoulSelected",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		TNT1 A 0 A_TakeInventory("HasBurningBarrel",1)
		TNT1 A 0 A_GiveInventory("RevenantLauncherSelected",1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 AAAAAAAA 1 A_Raise
	    Wait
		
	Select2:
		TNT1 A 0 A_TakeInventory("FistsSelected",1)
		TNT1 A 0 A_TakeInventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("SledgeSelected",1)
		TNT1 A 0 A_TakeInventory("HandgunSelected",1)
		TNT1 A 0 A_TakeInventory("DualHandgunSelected",1)
		TNT1 A 0 A_TakeInventory("RevolverSelected",1)
		TNT1 A 0 A_TakeInventory("ShotgunSelected",1)
		TNT1 A 0 A_TakeInventory("SSGSelected",1)
		TNT1 A 0 A_TakeInventory("ASGSelected",1)
		TNT1 A 0 A_TakeInventory("QSGSelected",1)
		TNT1 A 0 A_TakeInventory("MinigunSelected",1)
		TNT1 A 0 A_TakeInventory("NewChaingunSelected",1)	
		TNT1 A 0 A_TakeInventory("RocketLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("GrenadeLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("SGLSelected",1)
		TNT1 A 0 A_TakeInventory("PlasmaGunSelected",1)
		TNT1 A 0 A_TakeInventory("M2Selected",1)	
		TNT1 A 0 A_TakeInventory("FreezerSelected",1)
		TNT1 A 0 A_TakeInventory("RailGunSelected",1)
		TNT1 A 0 A_TakeInventory("BFGSelected",1)
		TNT1 A 0 A_TakeInventory("BFGBeamSelected",1)
		TNT1 A 0 A_TakeInventory("BHCSelected",1)
		TNT1 A 0 A_GiveInventory("RevenantLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("FlameCannonSelected",1)
		TNT1 A 0 A_TakeInventory("HellRifleSelected",1)
		TNT1 A 0 A_TakeInventory("LandMineSelected",1)
		TNT1 A 0 A_TakeInventory("UACSMGSelected",1)
		TNT1 A 0 A_TakeInventory("SubMachineGunSelected",1)
		TNT1 A 0 A_TakeInventory("LostSoulSelected",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		TNT1 A 0 A_TakeInventory("HasBurningBarrel",1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 AAAAAAAA 1 A_Raise
	    Wait
    Spawn:
        FATB D 1
        Loop
//hellishmissle/fire
	Fire:
		TNT1 A 0 A_WeaponOffset(0,32)
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailShot")
	    TNT1 A 0
	    TNT1 A 0 A_JumpIfTargetInLOS("OpenFire")
		
	    RVCG B 1
	    Goto Ready+8
	
	RailShot:
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_Playsound("weapons/revrailgf", 2)
		TNT1 A 0 A_FireCustomMissile("RedFlare", 0, 0, 0, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("DoomerRevBeam", random(1,-1), 0, 8, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("DoomerRevBeam", random(1,-1), 1, 8, 0)
		TNT1 A 0 A_ZoomFactor(0.97)
		RVCF H 1 BRIGHT A_ZoomFactor(0.965)
		TNT1 A 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		RVCF IJ 1 BRIGHT
		RVCR KLMNO 2
		RVCG C 10
		TNT1 A 0 A_TakeInventory("RevenantRocketFire1823", 2)
		Goto Ready2+8
		
	AltRailShot:
		TNT1 A 0 A_AlertMonsters
		
		TNT1 A 0 A_PlaySound("weapons/revrailgf", 1)
		TNT1 A 0 A_FireCustomMissile("RedFlare", 0, 0, 0, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("DoomerRevBeam", random(4,-4), 1, 8, 0)
		RVCF H 1 BRIGHT 
		RVCF I 1 BRIGHT A_ZoomFactor(0.99)
		RVCF J 1 BRIGHT
		
		TNT1 A 0 A_PlaySound("weapons/revrailgf", 1)
		TNT1 A 0 A_FireCustomMissile("RedFlare", 0, 0, 0, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("DoomerRevBeam", random(6,-6), 1, 8, 0)
		RVCF H 1 BRIGHT 
		RVCF I 1 BRIGHT A_ZoomFactor(0.98)
		RVCF J 1 BRIGHT
		
		
		TNT1 A 0 A_PlaySound("weapons/revrailgf", 1)
		TNT1 A 0 A_FireCustomMissile("RedFlare", 0, 0, 0, 0)
		TNT1 A 0 BRIGHT A_FireCustomMissile("DoomerRevBeam", random(8,-8), 1, 8, 0)
		RVCF H 1 BRIGHT 
		RVCF I 1 BRIGHT A_ZoomFactor(0.97)
		RVCF J 1 BRIGHT
		
		RVCR K 2 A_ZoomFactor(1.0)
		TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		RVCR LMNO 2
		RVCG C 12
		TNT1 A 0 A_TakeInventory("RevenantRocketFire1823", 4)
		Goto Ready2+8
		
	OpenFire:
	    TNT1 A 0 A_PlaySound("hellishmissle/fire", 1)
        TNT1 A 0 A_AlertMonsters
	    TNT1 A 0 A_JumpIfInventory("RevenantRocketFire1823", 1, "OpenFire2")
	    TNT1 A 0 BRIGHT A_FireCustomMissile("Alerter", 0, 0, -1, 0)
		TNT1 A 0 A_ZoomFactor(0.98)
		
        RVCF A 1 BRIGHT A_FireCustomMissile("DoomerRevenantSeeker3", random(4,-4), 1, -8, 0)
		RVCF BC 1 BRIGHT
		
		TNT1 A 0 A_ZoomFactor(0.975)
	    TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		RVCR A 1 A_ZoomFactor(1.0)
		RVCR BCDE 1
		RVCG A 1
	    TNT1 A 0 A_GiveInventory("RevenantRocketFire1823", 1)
	    Goto Ready+8

	OpenFire2:
		TNT1 A 0 A_PlaySound("hellishmissle/fire", 2)
		TNT1 A 0 A_ZoomFactor(0.98)
		
	    RVCF D 1 BRIGHT A_FireCustomMissile("DoomerRevenantSeeker2", random(4,-4), 1, 8, 0)
		RVCF EF 1 BRIGHT
		
	    TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		TNT1 A 0 A_ZoomFactor(0.975)
		RVCR F 1 A_ZoomFactor(1.0)
		RVCR GHIJ 1
		RVCG A 1
	    TNT1 A 0 A_TakeInventory("RevenantRocketFire1823", 1)
	    Goto Ready+8

	AltFire:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"AltRailShot")
		TNT1 A 0 A_PlaySound("hellishmissle/fire", 1)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_JumpIfInventory("RevenantRocketFire1823", 1, "OpenFire2")
		TNT1 A 0 BRIGHT A_FireCustomMissile("Alerter", 0, 0, -1, 0)
		TNT1 A 0 A_ZoomFactor(0.98)
		
		RVCF A 1 BRIGHT A_FireCustomMissile("DoomerRevenantMissile2", random(4,-4), 1, -8, 0)
		RVCF BC 1 BRIGHT
		
		TNT1 A 0 A_ZoomFactor(0.975)
		TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		RVCR A 1 A_ZoomFactor(1.0)
		RVCR BCDE 1
		RVCG A 1
		TNT1 A 0 A_GiveInventory("RevenantRocketFire1823", 1)
		Goto Ready+8
		
	AltFire2:
		TNT1 A 0 A_PlaySound("hellishmissle/fire", 2)
		TNT1 A 0 A_ZoomFactor(0.98)
		
		RVCF D 1 BRIGHT A_FireCustomMissile("DoomerRevenantMissile3", random(4,-4), 1, 8, 0)
		RVCF EF 1 BRIGHT
		
		TNT1 A 0 A_FireCustomMissile("ShakeYourAss", 0, 0, 0, 0)
		TNT1 A 0 A_ZoomFactor(0.975)
		RVCR F 1 A_ZoomFactor(1.0)
		RVCR GHIJ 1
		RVCG A 1
		TNT1 A 0 A_TakeInventory("RevenantRocketFire1823", 1)
		Goto Ready+8
		
		WeaponSpecialPurist:
		TNT1 A 0 A_Print("Weapon Special Not Available in Classic Mode!")
		TNT1 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto Ready+8
		
	WeaponSpecial:
	TNT1 A 0 A_JumpIfInventory("IsPlayingAsPurist", 1, "WeaponSpecialPurist")
	TNT1 A 0 A_StopSound
     TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"TakeRailgun")
     TNT1 A 0 A_GiveInventory ("HasRailgun",1)
	 TNT1 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
     TNT1 A 0 A_PlaySound("DSBOWREL", 1)
	 TNT1 A 0 A_Print("Firemode: Rail")
     TNT1 A 0 A_PlaySound("REVCYC", 2)
	 RVCS ABCD 1 
    // TNT1 A 0 A_PlaySound("REVCYC", 3)
	 TNT1 A 10
	 RVCS HGFE 1 
	 TNT1 A 0 A_Takeinventory("Reloading",1)
     TNT1 A 0
     Goto Ready2+8
	 
	 TakeRailgun:
	 TNT1 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
	 TNT1 A 0 A_TakeInventory ("HasRailgun",1)
     TNT1 A 0 A_PlaySound("DSBOWREL")
	 TNT1 A 0 A_Print("Firemode: Seeker Missile")
     TNT1 A 0 A_PlaySound("REVCYC", 2)
	 RVCS EFGH 1 
     //TNT1 A 0 A_PlaySound("REVCYC", 3)
	 TNT1 A 10
	 RVCS DCBA 1 
	 TNT1 A 0 A_Takeinventory("Reloading",1)
	 TNT1 A 0
	 Goto Ready+8
	 
	Flash:
		TNT1 A 0
		RVCG A 15
		Stop
	AltFlash:
		TNT1 A 0
		RVCG A 19
		Stop
	TauntFlash:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailTauntFlash")
		TNT1 A 0
		RVCG A 47
		Stop
	LedgeGrabFlash:
		TNT1 A 0
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailLedgeGrabFlash")
		TNT1 A 0
		RVCG A 19
		Stop
	RailLedgeGrabFlash:
		TNT1 A 0
		RVCG C 19
		Stop
	RailTauntFlash:
		TNT1 A 0
		RVCG C 47
		Stop	
		
	SaluteFlash:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailSaluteFlash")
		TNT1 A 0
		RVCG A 69
		Stop
		
	RailSaluteFlash:
		TNT1 A 0
		RVCG A 69
		Stop

    FlashKicking:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailFlashKicking")
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG A 3 
		RVCG A 3
		RVCG A 3 
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG AAA 1 
		Stop
		
	RailFlashKicking:
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG C 3 
		RVCG C 3
		RVCG C 3 
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG CCC 1 
		Stop
		
	FlashAirKicking:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailFlashAirKicking")
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG A 3 
		RVCG A 3
		RVCG A 3 
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG AAA 1 
		Stop
		
	RailFlashAirKicking:
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG C 3 
		RVCG C 3
		RVCG C 3 
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG CCC 1 
		Stop
		
	FlashSlideKicking:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailFlashSlideKicking")
		RVCG AA 2 
		RVCG AAAAAAAAAAA 2  
		Stop
		
	RailFlashSlideKicking:
		RVCG CC 2 
		RVCG CCCCCCCCCCC 2  
		Stop
		
	FlashSlideKickingStop:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailFlashSlideKickingStop")
		RVCG AAAAAA 1 
		RVCG A 1 
		Stop
		
	RailFlashSlideKickingStop:
		RVCG CCCCCC 1 
		RVCG C 1 
		Stop

	FlashPunching:
		TNT1 A 0 A_JumpIfInventory("HasRailgun",1,"RailFlashPunching")
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG A 3 
		RVCG A 3
		RVCG A 3 
		RVCG A 1 
		RVCG A 1 
		RVCG A 1 
		RVCG AAA 1  
		Stop
		
	RailFlashPunching:
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG C 3 
		RVCG C 3
		RVCG C 3 
		RVCG C 1 
		RVCG C 1 
		RVCG C 1 
		RVCG CCC 1  
		Stop
	}
}

ACTOR RevenantBalls66: RevenantBalls
{
	Damage 10
	Speed 20
	States
	{
	Spawn:
	TNT1 A 0
	TNT1 A 0 ThrustThingZ(0,random(20, 0),0,1)
	Goto Spawn1
	}
}

ACTOR RevenantMissileFriendAttackSummon
{
    Radius 1
    Height 1
    Speed 0
    Health 1
    gravity 0.5
	Decal BloodSuper
	+NOCLIP
	MONSTER
	+FRIENDLY
	+LOOKALLAROUND
	-SHOOTABLE
	+MISSILEMORE
	+MISSILEEVENMORE
	+DONTTHRUST
    States
    {
    Spawn:
	    TNT1 A 0 A_Look
	    TNT1 AAA 0 A_Chase
	    TNT1 AAAAAA 1 A_Chase
		Stop
	Missile:	
		TNT1 A 1 A_FaceTarget
		TNT1 A 0 A_CustomMissile("RevenantBalls66")
        Stop
    }
}


ACTOR MiniHellRocketAmmo : Ammo
{
   Inventory.Amount 0
   Inventory.MaxAmount 50
   Ammo.BackpackAmount 0
   Ammo.BackpackMaxAmount 100
   Inventory.Icon "FATBD0"
}

Actor RevenantRocketFire1823 : Inventory
{
inventory.maxamount 1
}

ACTOR DoomerRevenantSeeker2 : RevenantSeeker
{
	Damage 26
	SeeSound "HMLF1"
	Speed 35
	Species "Marine"
	+MTHRUSPECIES
	+THRUSPECIES
	-THRUGHOST
	+Screenseeker
	States
	{
	Spawn:
		TNT1 A 0 A_PlaySound("weapons/rocketloop",6,1,1)
	    TNT1 A 0 A_JumpIf(waterlevel > 1, "SpawnUnderwater")
		FATB AB 1 BRIGHT A_SpawnItem("RedFlareSmall",0,0)
        TNT1 A 0 A_SeekerMissile (20,30,SMF_LOOK )
		TNT1 A 0 A_SpawnItemEx("RevenantProjectileTrails", 0, 0, 0, 0, 0, 0, 0, 128) 
		TNT1 A 0 A_SpawnItem ("RocketSmokeTrail52")

		FATB AB 1 BRIGHT A_SpawnItem("RedFlareSmall",0,0)
        TNT1 A 0 A_SeekerMissile (20,30,SMF_LOOK )
		TNT1 A 0 A_SpawnItemEx("RevenantProjectileTrails", 0, 0, 0, 0, 0, 0, 0, 128) 
		TNT1 A 0 A_CustomMissile ("RocketSmokeTrail52", 2, 0, random (70, 110), 2, random (0, 360))
		Loop
	
	Death:
	    EXPL A 0 Radius_Quake (2, 54, 0, 15, 0)
		TNT1 A 0 A_SpawnItemEx ("UnderwaterExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("DetectFloorCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("DetectCeilCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		BFE1 A 0 Bright A_Explode(18, 120, 1)
		TNT1 A 0 A_SpawnItemEx ("NewRocketExploFX_Small",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
		EXPL A 0
        TNT1 AAAAA 0 A_CustomMissile ("SmallExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 10
		Stop
	}
}

ACTOR DoomerRevenantSeeker3 : RevenantSeeker
{
	Damage 27
	Speed 35
	SeeSound "HMLF2"
	Species "Marine"
	+MTHRUSPECIES
	+THRUSPECIES
	-THRUGHOST
	+DONTHURTSPECIES
	+SCREENSEEKER
	States
	{
	Spawn:
		TNT1 A 0 A_PlaySound("weapons/rocketloop",6,1,1)
	    TNT1 A 0 A_JumpIf(waterlevel > 1, "SpawnUnderwater")
		FATB AB 1 BRIGHT A_SpawnItem("RedFlareSmall",0,0)
        TNT1 A 0 A_SeekerMissile (20,30,SMF_LOOK )
		TNT1 A 0 A_SpawnItemEx("RevenantProjectileTrails", 0, 0, 0, 0, 0, 0, 0, 128) 
		TNT1 A 0 A_SpawnItem ("RocketSmokeTrail52")

		FATB AB 1 BRIGHT A_SpawnItem("RedFlareSmall",0,0)
        TNT1 A 0 A_SeekerMissile (20,30,SMF_LOOK )
		TNT1 A 0 A_SpawnItemEx("RevenantProjectileTrails", 0, 0, 0, 0, 0, 0, 0, 128) 
		TNT1 A 0 A_CustomMissile ("RocketSmokeTrail52", 2, 0, random (70, 110), 2, random (0, 360))
		Loop
		
	Death:
	    EXPL A 0 Radius_Quake (2, 54, 0, 15, 0)
		TNT1 A 0 A_SpawnItemEx ("NewRocketExploFX_Small",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("UnderwaterExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("DetectFloorCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_SpawnItemEx ("DetectCeilCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		BFE1 A 0 Bright A_Explode(18, 120, 1)
		TNT1 A 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
		EXPL A 0
        TNT1 AAAAA 0 A_CustomMissile ("SmallExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 10
		Stop
	}
}

ACTOR DoomerRevenantMissile2 : RevenantMissile
{
	Damage 27
	Speed 35
	SeeSound "HMLF1"
	Damagetype explosiveimpact
	Species "Marine"
	-MTHRUSPECIES
	+DONTHURTSPECIES
	States
	{
	Death:
	    EXPL A 0 Radius_Quake (2, 54, 0, 15, 0)
		TNT1 A 0 A_SpawnItemEx ("UnderwaterExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		BFE1 A 0 Bright A_Explode(16, 120, 1)
        TNT1 A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
		TNT1 A 0 A_SpawnItemEx ("DetectFloorCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_SpawnItemEx ("DetectCeilCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)

		EXPL A 0
		TNT1 A 0 A_SpawnItemEx ("NewRocketExploFX_Small",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 AAAA 0 A_CustomMissile ("SmallExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 10
		Stop
	}
}

ACTOR DoomerRevenantMissile3 : RevenantMissile
{
	Damage 27
	Speed 35
	SeeSound "HMLF2"
	Damagetype explosiveimpact
	Species "Marine"
	-MTHRUSPECIES
	+DONTHURTSPECIES
	States
	{
	Death:
	    EXPL A 0 Radius_Quake (2, 54, 0, 15, 0)
		TNT1 A 0 A_SpawnItemEx ("UnderwaterExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		BFE1 A 0 Bright A_Explode(16, 120, 1)
        TNT1 A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
		TNT1 A 0 A_SpawnItemEx ("DetectFloorCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_SpawnItemEx ("DetectCeilCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)

		EXPL A 0
		TNT1 A 0 A_SpawnItemEx ("NewRocketExploFX_Small",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 AAAA 0 A_CustomMissile ("SmallExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 10
		Stop
	}
}

ACTOR MiniMissile1 : RevenantMissile
{
	Damage (random(32,34))
	DamageType ExplosiveImpact
	Speed 38
	Scale 1.15
	SeeSound "weapons/RLL"
	States
	{
	Death:
	    EXPL A 0 Radius_Quake (2, 54, 0, 15, 0)
		TNT1 A 0 A_SpawnItemEx ("UnderwaterExplosion",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		BFE1 A 0 Bright A_Explode(55, 125, 1)
        TNT1 A 0 A_SpawnItemEx("ExplosionParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
		TNT1 A 0 A_SpawnItemEx ("DetectFloorCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 A 0 A_SpawnItemEx ("DetectCeilCrater",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)

		EXPL A 0
		TNT1 A 0 A_SpawnItemEx ("NewRocketExploFX_Small",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
        TNT1 AAAA 0 A_CustomMissile ("SmallExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 10
		Stop
	}
}

ACTOR DoomerRevBeamTrail
{
  RenderStyle Add
  Scale 0.08
  Alpha 1
  +NOINTERACTION
  +NOGRAVITY
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 0 A_SetScale(ScaleX, ScaleY -0.0875)
    YAE4 A 2 bright //A_SpawnItemEx("ObeliskTrailSpark", random(4,-4), random(4,-4), random(4,-4), 0, 0, 0, 0, 128, 0)
    YAE4 A 2 bright
  Trolololo:
    YAE4 A 0 A_JumpIf(ScaleY <= 0, "NULL")
    YAE4 A 0 A_SetScale(ScaleX -0.005, ScaleY -0.005)
    YAE4 A 1 bright A_FadeOut(0.295)
    Loop
  }
}

ACTOR DoomerRevBeam : FastProjectile
{
  Speed 225
  Radius 4
  Height 4
  Damage 12
  Renderstyle Add
  DamageType Incinerate
 // +RIPPER
  -CANNOTPUSH
  +NODAMAGETHRUST
  -EXTREMEDEATH
 // +FORCERADIUSDMG
	Species "Marine"
	+MTHRUSPECIES
	+THRUSPECIES
  DeathSound "weapons/StachanovHit"
  MissileType "DoomerRevBeamTrail"
  MissileHeight 10
  Decal "BFGLightning"
  Decal "BigScorch"
  states
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1 A_PlaySound("Weapons/StachanovFly",5,1.0,1)
    Loop
  Death:
    TNT1 A 0 A_PlaySound("Weapons/YamatoExp",5)
    TNT1 A 0 A_Explode(random(18,22),8,0,0)
    TNT1 AAAAAAAAAA 0 A_SpawnItemEx("ObeliskTrailSpark", random(19,-19), random(19,-19), random(19,-19), 0, 0, 0, 0, 128, 0)
    TNT1 A 0 A_SpawnItemEx("ObeliskExplode",0,0,0,0,0,0,0,128,0)
    TNT1 BCD 4
    stop
  }
}
