//Fuck this weapon, seriously. Will need to revisit this weapon and rewrite it like the fists...
Actor HasCutingWeapon: Inventory { inventory.maxamount 1}
ACTOR ComboSeq : Inventory {Inventory.MaxAmount 2}
ACTOR FiredGun : Inventory {Inventory.MaxAmount 1}
Actor SawFireSeq1: Inventory {inventory.maxamount 1}
Actor SawFireSeq2: Inventory {inventory.maxamount 1}
Actor MovingForward: Inventory{inventory.maxamount 1}
Actor MovingLeft: Inventory {inventory.maxamount 1}
Actor MovingRight: Inventory {inventory.maxamount 1}
Actor MovingBackward: Inventory {inventory.maxamount 1}

Actor Chain_saw : PB_Weapon replaces Chainsaw
{
	Weapon.BobRangeX 0.3
	Weapon.BobRangeY 0.5
	Weapon.BobStyle InverseSmooth
	Weapon.BobSpeed 2.4
	+FLOORCLIP
	+DONTGIB
	weapon.selectionorder 220
	Weapon.KickBack 0
	Obituary "$OB_MPCHAINSAW"
	Inventory.PickUpSound "IGOTSAW"
	Weapon.UpSound "none"
	weapon.readysound "weapons/chainsaw/idle"
	Inventory.PickupMessage "You found the Chainsaw, find some meat!!! (Slot 1)"
	+WEAPON.NOAUTOAIM
	+WEAPON.AXEBLOOD
	+WEAPON.NOALERT
	+WEAPON.MELEEWEAPON
	Tag "Chainsaw"
	Scale .49
	states
	{
	Spawn:
		TNT1 A 0 A_jumpif( V5_MODELS == 1 , "Spawn.V5")
		CSAW A 10
		LOOP 
	Spawn.V5:
		TNT1 A 0 A_jumpif( V5_MODELS == 0 , "Spawn")
		PBVP A 10
		LOOP
		
		Select:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			A_SetCrosshair(0);
			A_TakeInventory("PB_LockScreenTilt",1);
		}
		TNT1 A 0 A_TakeInventory("RifleSelected",1)
		TNT1 A 0 A_Overlay(-10, "FirstPersonLegsStand")
		TNT1 A 0 A_TakeInventory("CarbineSelected",1)
		TNT1 A 0 A_TakeInventory("FistsSelected",1)
		TNT1 A 0 A_GiveInventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("SledgeSelected",1)
		TNT1 A 0 A_TakeInventory("HandgunSelected",1)
		TNT1 A 0 A_TakeInventory("DualHandgunSelected",1)
		TNT1 A 0 A_TakeInventory("RevolverSelected",1)
		TNT1 A 0 A_TakeInventory("ShotgunSelected",1)
		TNT1 A 0 A_TakeInventory("SSGSelected",1)
		TNT1 A 0 A_TakeInventory("ASGSelected",1)
		TNT1 A 0 A_TakeInventory("QSGSelected",1)
		TNT1 A 0 A_TakeInventory("MinigunSelected",1)
		TNT1 A 0 A_TakeInventory("NewChaingunSelected",1)
		TNT1 A 0 A_TakeInventory("RocketLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("GrenadeLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("SGLSelected",1)
		TNT1 A 0 A_TakeInventory("PlasmaGunSelected",1)
		TNT1 A 0 A_TakeInventory("M2Selected",1)	
		TNT1 A 0 A_TakeInventory("FreezerSelected",1)
		TNT1 A 0 A_TakeInventory("RailGunSelected",1)
		TNT1 A 0 A_TakeInventory("BFGSelected",1)
		TNT1 A 0 A_TakeInventory("BFGBeamSelected",1)
		TNT1 A 0 A_TakeInventory("BHCSelected",1)
		TNT1 A 0 A_TakeInventory("RevenantLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("FlameCannonSelected",1)
		TNT1 A 0 A_TakeInventory("HellRifleSelected",1)
		TNT1 A 0 A_TakeInventory("LandMineSelected",1)
		TNT1 A 0 A_TakeInventory("UACSMGSelected",1)
		TNT1 A 0 A_TakeInventory("SubMachineGunSelected",1)
		TNT1 A 0 A_TakeInventory("LostSoulSelected",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		TNT1 A 0 A_TakeInventory("HasBurningBarrel",1)
		TNT1 A 0 A_Takeinventory("PowerBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 AAAA 1 A_Raise
		Wait
		
	Deselect:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			A_SetCrosshair(0);
			A_TakeInventory("PB_LockScreenTilt",1);
		}
		TNT1 A 0 A_TakeInventory("PowerBloodOnVisor",1)
		TNT1 A 0 A_TakeInventory("PowerBlueBloodOnVisor",1)
		TNT1 A 0 A_TakeInventory("PowerGreenBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_JumpIfInventory("GotMeatShield", 1, "GrabEnemy")
		TNT1 A 0 A_Stopsound(1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Lower
		Wait


	Steady:
		TNT1 A 1
		Goto Ready

	Ready3:
		TNT1 A 0
		Goto Ready+35

    Ready:
	    SAWS A 0
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_JumpIfInventory("GoFatality", 1, "Steady")
        SAWS WXYZ 1 A_SetRoll(roll+0.6,SPF_INTERPOLATE)
        TNT1 A 0 A_PlaySound("DSSAWZIP")
        SAWS A 1 A_Zoomfactor(0.98)
        SAWS B 1 A_Zoomfactor(0.96)
        SAWS C 1 A_Zoomfactor(0.98)
        SAWS D 1 A_Zoomfactor(1.0)
		SAWS EFGH 1 A_SetRoll(roll-0.6,SPF_INTERPOLATE)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS I 1
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS J 1 A_playsound("weapons/chainsaw/draw", 1)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS K 1 A_PlaySound("DSSAWUP", 2)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)

        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0
	OnLoop:
 		TNT1 A 0 A_PlaySound("weapons/chainsaw/idle",CHAN_WEAPON,1,true,0.5)
		TNT1 A 0 A_SetRoll(0)
 		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
 		TNT1 A 0 A_TakeInventory("FiredGun", 1)
 		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("PB_LockScreenTilt",1)
	OnLoop1:
		SAWG ABCDEFGFEDCB 1 
			{
				A_WeaponReady;
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("Ready.GreenBlood"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { return state("Ready.BlueBlood"); }
				if (CountInv("PowerBloodOnVisor") == 1) { return state("Ready.Blood"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Loop
		
	BloodDropRed:
		SSW2 ABCDEFGHIJKL 1
        NULL A 0 A_SpawnItemEx("DripingSawBlood", 0, -4, 2, 0, 0)
		Stop
	BloodDropBlue:
		SSW3 ABCDEFGHIJKL 1
        NULL A 0 A_SpawnItemEx("DripingSawBlueBlood", 0, -4, 2, 0, 0)
		Stop
	BloodDropGreen:
		SSW4 ABCDEFGHIJKL 1
        NULL A 0 A_SpawnItemEx("DripingSawGreenBlood", 0, -4, 2, 0, 0)
		Stop
		
	Ready.Blood:
		TNT1 A 0 A_PlaySound("weapons/chainsaw/idle",CHAN_WEAPON,1,true,0.5)
		TNT1 A 0 A_SetRoll(0)
 		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
 		TNT1 A 0 A_TakeInventory("FiredGun", 1)
 		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("PB_LockScreenTilt",1)
		LoopBlood:
		SAW2 ABCDEFGFEDCB 1  
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("Ready.GreenBlood"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { return state("Ready.BlueBlood"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		TNT1 A 0 A_Overlay(-2,"BloodDropRed")
		Loop
		
	Ready.BlueBlood:
		TNT1 A 0 A_PlaySound("weapons/chainsaw/idle",CHAN_WEAPON,1,true,0.5)
		TNT1 A 0 A_SetRoll(0)
 		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
 		TNT1 A 0 A_TakeInventory("FiredGun", 1)
 		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("PB_LockScreenTilt",1)
		LoopBlue:
		SAW3 ABCDEFGFEDCB 1  
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("Ready.GreenBlood"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		TNT1 A 0 A_Overlay(-2,"BloodDropBlue")
		Loop
	
	Ready.GreenBlood:
		TNT1 A 0 A_PlaySound("weapons/chainsaw/idle",CHAN_WEAPON,1,true,0.5)
		TNT1 A 0 A_SetRoll(0)
 		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
 		TNT1 A 0 A_TakeInventory("FiredGun", 1)
 		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("PB_LockScreenTilt",1)
		LoopGreen:
		SAW4 ABCDEFGFEDCB 1  
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		TNT1 A 0 A_Overlay(-2,"BloodDropGreen")
		Loop
		
	WeaponSpecial:
		TNT1 A 0 
			{
				A_WeaponOffset(0,32);
				A_Takeinventory("GoWeaponSpecialAbility",1);
				if (CountInv("SSG") >= 1 && CountInv("NewShell") > 1) { return state("QuickShot"); }
				A_Print("You need a loaded sawed-off shotgun!");
				return state("");
			}
		Goto OnLoop
	QuickShot:
		TNT1 A 0 
			{
				A_GunFlash("SSGFlash");
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("WeaponSpecialGreenBlood"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { return state("WeaponSpecialBlueBlood"); }
				if (CountInv("PowerBloodOnVisor") == 1) { return state("WeaponSpecialBlood"); }
				return state("");
			}
	WeaponSpecialClean:
		CSK1 ABCDE 1
		CSK1 E 25
		CSK1 DCBA 1 
		TNT1 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto OnLoop
		
	WeaponSpecialBlood:
		CSK2 ABCDE 1
		CSK2 E 25
		CSK2 DCBA 1 
		TNT2 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto Ready.Blood
		
	WeaponSpecialBlueBlood:
		CSK3 ABCDE 1
		CSK3 E 25
		CSK3 DCBA 1 
		TNT2 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto Ready.BlueBlood
		
	WeaponSpecialGreenBlood:
		CSK4 ABCDE 1
		CSK4 E 25
		CSK4 DCBA 1 
		TNT2 A 0 A_Takeinventory("GoWeaponSpecialAbility",1)
		Goto Ready.GreenBlood
		
	SSGFlash:
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		CSSG ATUB 1 A_SetRoll(roll+0.8,SPF_INTERPOLATE)
		TNT1 A 0 A_PlaySound("insertshell", 5)
		CSSG CEFGH 1
		TNT1 A 0 A_PlaySound("weapons/ssg/close", 7)
		CSSG IIII 1 A_SetRoll(roll-0.8,SPF_INTERPOLATE)
		
		TNT1 A 0 A_TakeInventory("NewShell", 2)
		TNT1 A 0 A_AlertMonsters
	    CSSG J 1 BRIGHT A_FireBullets(0, 0, 1, 35, "shotpuff", 1, 220)
		TNT1 A 0  A_PlaySound("SSHFIRE", 6)
		TNT1 AAAAAAAAAAA 0 A_FireCustomMissile("Tracer", Random(-7, 7), 0, -1, Random(-7, 7))
		TNT1 A 0 A_FireBullets(15, 9, 22, 7, "ShotgunPuff")
		TNT1 AA 0 A_FireCustomMissile("YellowFlareSpawn", 15, 0, 0, 0)
		TNT1 AA 0 A_FireCustomMissile("YellowFlareSpawn", -15, 0, 0, 0)
		TNT1 A 0 A_SetPitch(-1.55 + pitch)
		CSSG K 1 BRIGHT
		CSSG LMNOONM 1
		TNT1 A 0 A_PlaySound("insertshell", 5)
		CSSG PQRS 1
		TNT1 A 0 A_PlaySound("weapons/ssg/close", 7)
		Stop
		
//Revamping the chainsaw's primary fire behavior: Directional Swings based on movement direction, like in KF2
	Fire:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			A_SetCrosshair(0);
		}
		TNT1 A 0 A_GiveInventory("PB_LockScreenTilt",1)
		TNT1 A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("GreenAttack"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { return state("BlueAttack"); }
				if (CountInv("PowerBloodOnVisor") == 1) { return state("RedAttack"); }
				return state("");
			}
//No Blood
	CleanAttack:
		TNT1 A 0 ACS_NamedExecute("GetPlayerMovementDirection", 0, 0, 0, 0) //Script needs a 1 tic buffer to work
		SAWG A 1 
		TNT1 A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("MovingForward") == 1) { return state("ForwardAttackClean"); }
				if (CountInv("MovingRight") == 1) { return state("RightAttackClean"); }
				if (CountInv("MovingLeft") == 1) { return state("LeftAttackClean"); }
				if (CountInv("MovingBackward") == 1) { return state("BackwardAttackClean"); }
				return state("");
			}
	ClassicAttackClean:
		TNT1 A 0 A_PlaySound("sawswing", 6, 0.5)
		CSA1 ABCD 1
	ClassicAttackCleanLoop:
		TNT1 A 0 
			{
				if (CountInv("PowerGreenBloodOnVisor") == 1) { return state("ClassicAttackGreenLoop"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { return state("ClassicAttackBlueLoop"); }
				if (CountInv("PowerBloodOnVisor") == 1) { return state("ClassicAttackRedLoop"); }
				return state("");
			}
		CSA1 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		CSA1 F 1 
			{
				A_Saw("", "Machete/Yum", 1, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		CSA1 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_ReFire("ClassicAttackCleanLoop")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		CSA1 DCBA 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
	ForwardAttackClean:
		TNT1 A 0 A_PlaySound("sawswing2", 3)
	ForwardAttackClean1:
		CSS1 ABCDE 1
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.6)
		CSS1 FGHI 1 A_SetRoll(roll-0.25,SPF_INTERPOLATE)
		Goto ForwardAttackCleanContinue+3
	ForwardAttackCleanContinue:
		CSS1 JK 1 
		CSS1 L 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"ForwardAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"ForwardAttackBlueContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"ForwardAttackRedContinue")
		TNT1 A 0 A_JumpIfCloser(119, "ForwardAttackCleanContinue")
		CSS1 MNO 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		CSS1 PQRS 1 A_SetRoll(roll+0.25,SPF_INTERPOLATE)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_ReFire("ForwardAttackClean1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
	RightAttackClean:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C4S1 ABCDE 1 A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto RightAttackCleanContinue+3
	RightAttackCleanContinue:
		C4S1 KL 1 
		C4S1 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"RightAttackBlueContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"RightAttackRedContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackCleanContinue")
		C4S1 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackClean2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 NOPQ 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
	RightAttackClean2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C4S1 JIHGF 1  A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto RightAttackClean2Continue+3
	RightAttackClean2Continue:
		C4S1 KL 1 
		C4S1 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreen2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"RightAttackBlue2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"RightAttackRed2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackClean2Continue")
		C4S1 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackClean")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 RSTU 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
	LeftAttackClean:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C5S1 ABCDE 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto LeftAttackCleanContinue+3
	LeftAttackCleanContinue:
		C5S1 LM 1 
		C5S1 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"LeftAttackBlueContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"LeftAttackRedContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackCleanContinue")
		C5S1 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackClean2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 RSTU 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
	LeftAttackClean2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C5S1 KJHGF 1  A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto LeftAttackClean2Continue+3
	LeftAttackClean2Continue:
		C5S1 ML 1 
		C5S1 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreen2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"LeftAttackBlue2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"LeftAttackRed2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackClean2Continue")
		C5S1 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackClean")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 NOPQ 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
	BackwardAttackClean:
		TNT1 A 0 A_PlaySound("sawswing", 3,0.5)
		C6S1 MNO 1
	BackwardAttackClean1:
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.8)
		C6S1 ABCD 1 
		{
			A_SetRoll(roll+0.4,SPF_INTERPOLATE);
			A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120);
		}
		Goto BackwardAttackCleanContinue+5
	BackwardAttackCleanContinue:
		C6S1 P 1 
		C6S1 Q 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S1 R 1 
		C6S1 S 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"BackwardAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"BackwardAttackBlueContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"BackwardAttackRedContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_JumpIfCloser(119, "BackwardAttackCleanContinue")
		C6S1 EFG 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S1 HIJKLMNO 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		TNT1 A 1 A_ReFire("BackwardAttackClean1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAWG GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
		
	//Red Blood
	RedAttack:
		TNT1 A 0 ACS_NamedExecute("GetPlayerMovementDirection", 0, 0, 0, 0) //Script needs a 1 tic buffer to work
		SAW2 A 1 
		TNT1 A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("MovingForward") == 1) { return state("ForwardAttackRed"); }
				if (CountInv("MovingRight") == 1) { return state("RightAttackRed"); }
				if (CountInv("MovingLeft") == 1) { return state("LeftAttackRed"); }
				if (CountInv("MovingBackward") == 1) { return state("BackwardAttackRed"); }
				return state("");
			}
	ClassicAttackRed:
		TNT1 A 0 A_PlaySound("sawswing", 6,0.5)
		CSA2 ABCD 1 
	ClassicAttackRedLoop:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"ClassicAttackGreenLoop")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"ClassicAttackBlueLoop")
			CSA2 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA2 F 1 
			{
				A_Saw("", "Machete/Yum", 1, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA2 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_ReFire("ClassicAttackRedLoop")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		CSA2 DCBA 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.Blood
		
	ForwardAttackRed:
		TNT1 A 0 A_PlaySound("sawswing2", 3)
	ForwardAttackRed1:
		CSS2 ABCDE 1
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.6)
		CSS2 FGHI 1 A_SetRoll(roll-0.25,SPF_INTERPOLATE)
		Goto ForwardAttackRedContinue+3
	ForwardAttackRedContinue:
		CSS2 JK 1 
		CSS2 L 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"ForwardAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"ForwardAttackBlueContinue")
		TNT1 A 0 A_JumpIfCloser(119, "ForwardAttackRedContinue")
		CSS2 MNO 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		CSS2 PQRS 1 A_SetRoll(roll+0.25,SPF_INTERPOLATE)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_ReFire("ForwardAttackRed1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.Blood
		
	RightAttackRed:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C4S2 ABCDE 1 A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto RightAttackRedContinue+3
	RightAttackRedContinue:
		C4S2 KL 1 
		C4S2 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"RightAttackBlueContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackRedContinue")
		C4S2 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackRed2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S2 NOPQ 1
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.blood
	RightAttackRed2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C4S2 JIHGF 1  A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto RightAttackRed2Continue+3
	RightAttackRed2Continue:
		C4S2 KL 1 
		C4S2 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreen2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"RightAttackBlue2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackRed2Continue")
		C4S2 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackRed")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S2 RSTU 1
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.blood
	
	SawBloodSprayRed:
		SBB1 ABCD 1
		Stop
		
	LeftAttackRed:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C5S2 ABCDE 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto LeftAttackRedContinue+4
	LeftAttackRedContinue:
		TNT1 A 0 A_Gunflash("SawBloodSprayRed")
		C5S2 LM 1 
		C5S2 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"LeftAttackBlueContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackRedContinue")
		C5S2 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackRed2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S2 RSTU 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.blood
	LeftAttackRed2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C5S2 KJHGF 1  A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto LeftAttackRed2Continue+4
	LeftAttackRed2Continue:
		TNT1 A 0 A_Gunflash("SawBloodSprayRed")
		C5S2 ML 1 
		C5S2 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreen2Continue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"LeftAttackBlue2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackRed2Continue")
		C5S2 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackRed")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S2 NOPQ 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.blood
		
	BackwardAttackRed:
		TNT1 A 0 A_PlaySound("sawswing", 3,0.5)
		C6S2 MNO 1
	BackwardAttackRed1:
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.8)
		C6S2 ABCD 1 
		{
			A_SetRoll(roll+0.4,SPF_INTERPOLATE);
			A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120);
		}
		Goto BackwardAttackRedContinue+5
	BackwardAttackRedContinue:
		C6S2 P 1 
		C6S2 Q 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S2 R 1 
		C6S2 S 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"BackwardAttackGreenContinue")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"BackwardAttackBlueContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_JumpIfCloser(119, "BackwardAttackRedContinue")
		C6S2 EFG 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S2 HIJKLMNO 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		TNT1 A 1 A_ReFire("BackwardAttackRed1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW2 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.blood
		
//Blue Blood
	BlueAttack:
		TNT1 A 0 ACS_NamedExecute("GetPlayerMovementDirection", 0, 0, 0, 0) //Script needs a 1 tic buffer to work
		SAW3 A 1 
		TNT1 A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("MovingForward") == 1) { return state("ForwardAttackBlue"); }
				if (CountInv("MovingRight") == 1) { return state("RightAttackBlue"); }
				if (CountInv("MovingLeft") == 1) { return state("LeftAttackBlue"); }
				if (CountInv("MovingBackward") == 1) { return state("BackwardAttackBlue"); }
				return state("");
			}
	ClassicAttackBlue:
		TNT1 A 0 A_PlaySound("sawswing", 6,0.5)
		CSA3 ABCD 1
	ClassicAttackBlueLoop:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"ClassicAttackGreenLoop")
			CSA3 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA3 F 1 
			{
				A_Saw("", "Machete/Yum", 1, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA3 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_ReFire("ClassicAttackBlueLoop")
		
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		CSA3 DCBA 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.BlueBlood
		
	ForwardAttackBlue:
		TNT1 A 0 A_PlaySound("sawswing2", 3)
	ForwardAttackBlue1:
		CSS3 ABCDE 1
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.6)
		CSS3 FGHI 1 A_SetRoll(roll-0.25,SPF_INTERPOLATE)
		Goto ForwardAttackBlueContinue+3
	ForwardAttackBlueContinue:
		CSS3 JK 1 
		CSS3 L 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"ForwardAttackGreenContinue")
		TNT1 A 0 A_JumpIfCloser(119, "ForwardAttackBlueContinue")
		CSS3 MNO 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		CSS3 PQRS 1 A_SetRoll(roll+0.25,SPF_INTERPOLATE)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_ReFire("ForwardAttackBlue1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.BlueBlood
		
	RightAttackBlue:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C4S3 ABCDE 1 A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto RightAttackBlueContinue+3
	RightAttackBlueContinue:
		C4S3 KL 1 
		C4S3 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreenContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackBlueContinue")
		C4S3 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackBlue2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S3 NOPQ 1
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.BlueBlood
	RightAttackBlue2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C4S3 JIHGF 1  A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto RightAttackBlue2Continue+3
	RightAttackBlue2Continue:
		C4S3 KL 1 
		C4S3 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RightAttackGreen2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackBlue2Continue")
		C4S3 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackBlue")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S3 RSTU 1
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.BlueBlood
		
	LeftAttackBlue:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C5S3 ABCDE 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto LeftAttackBlueContinue+3
	LeftAttackBlueContinue:
		C5S3 LM 1 
		C5S3 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreenContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackBlueContinue")
		C5S3 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackBlue2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S3 RSTU 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.BlueBlood
	LeftAttackBlue2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C5S3 KJHGF 1  A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto LeftAttackBlue2Continue+3
	LeftAttackBlue2Continue:
		C5S3 ML 1 
		C5S3 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"LeftAttackGreen2Continue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackBlue2Continue")
		C5S3 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackBlue")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S3 NOPQ 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.BlueBlood
		
	BackwardAttackBlue:
		TNT1 A 0 A_PlaySound("sawswing", 3,0.5)
		C6S3 MNO 1
	BackwardAttackBlue1:
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.8)
		C6S3 ABCD 1 
		{
			A_SetRoll(roll+0.4,SPF_INTERPOLATE);
			A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120);
		}
		Goto BackwardAttackBlueContinue+5
	BackwardAttackBlueContinue:
		C6S3 P 1 
		C6S3 Q 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S3 R 1 
		C6S3 S 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"BackwardAttackGreenContinue")
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_JumpIfCloser(119, "BackwardAttackBlueContinue")
		C6S3 EFG 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S3 HIJKLMNO 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		TNT1 A 1 A_ReFire("BackwardAttackBlue1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW3 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.BlueBlood
		
//Green Blood
	GreenAttack:
		TNT1 A 0 ACS_NamedExecute("GetPlayerMovementDirection", 0, 0, 0, 0) //Script needs a 1 tic buffer to work
		SAW4 A 1 
		TNT1 A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("MovingForward") == 1) { return state("ForwardAttackGreen"); }
				if (CountInv("MovingRight") == 1) { return state("RightAttackGreen"); }
				if (CountInv("MovingLeft") == 1) { return state("LeftAttackGreen"); }
				if (CountInv("MovingBackward") == 1) { return state("BackwardAttackGreen"); }
				return state("");
			}
	ClassicAttackGreen:
		TNT1 A 0 A_PlaySound("sawswing", 6,0.5)
		CSA4 ABCD 1
	ClassicAttackGreenLoop:
			CSA4 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA4 F 1 
			{
				A_Saw("", "Machete/Yum", 1, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
			CSA4 EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_ReFire("ClassicAttackGreenLoop")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		CSA4 DCBA 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.GreenBlood
		
	ForwardAttackGreen:
		TNT1 A 0 A_PlaySound("sawswing2", 3)
	ForwardAttackGreen1:
		CSS4 ABCDE 1
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.6)
		CSS4 FGHI 1 A_SetRoll(roll-0.25,SPF_INTERPOLATE)
		Goto ForwardAttackGreenContinue+3
	ForwardAttackGreenContinue:
		CSS4 JK 1 
		CSS4 L 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_JumpIfCloser(119, "ForwardAttackGreenContinue")
		CSS4 MNO 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		CSS4 PQRS 1 A_SetRoll(roll+0.25,SPF_INTERPOLATE)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_ReFire("ForwardAttackGreen1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.GreenBlood
		
	RightAttackGreen:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C4S4 ABCDE 1 A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto RightAttackGreenContinue+3
	RightAttackGreenContinue:
		C4S4 KL 1 
		C4S4 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackGreenContinue")
		C4S4 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackGreen2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S4 NOPQ 1
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.GreenBlood
	RightAttackGreen2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C4S4 JIHGF 1  A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto RightAttackGreen2Continue+3
	RightAttackGreen2Continue:
		C4S4 KL 1 
		C4S4 M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "RightAttackGreen2Continue")
		C4S4 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+0.2,SPF_INTERPOLATE);
			}
		TNT1 A 2 A_Refire("RightAttackGreen")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S4 RSTU 1
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.GreenBlood
		
	LeftAttackGreen:
		TNT1 A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		TNT1 A 0 
		C5S4 ABCDE 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto LeftAttackGreenContinue+3
	LeftAttackGreenContinue:
		C5S4 LM 1 
		C5S4 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackGreenContinue")
		C5S4 FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackGreen2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S4 RSTU 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW4 GHGHGHGGHH 1 A_WeaponReady
		SAW4 GGHH 1 A_WeaponReady
		Goto ready.GreenBlood
	LeftAttackGreen2:
		TNT1 A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C5S4 KJHGF 1  A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto LeftAttackGreen2Continue+3
	LeftAttackGreen2Continue:
		C5S4 ML 1 
		C5S4 N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		TNT1 A 0 A_JumpIfCloser(119, "LeftAttackGreen2Continue")
		C5S4 EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		TNT1 A 1 A_Refire("LeftAttackGreen")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S4 NOPQ 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.GreenBlood
		
	BackwardAttackGreen:
		TNT1 A 0 A_PlaySound("sawswing", 3,0.5)
		C6S4 MNO 1
	BackwardAttackGreen1:
		TNT1 A 0 A_PlaySound("weapons/gswing", 2,0.8)
		C6S4 ABCD 1 
		{
			A_SetRoll(roll+0.4,SPF_INTERPOLATE);
			A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120);
		}
		Goto BackwardAttackGreenContinue+5
	BackwardAttackGreenContinue:
		C6S4 P 1 
		C6S4 Q 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S4 R 1 
		C6S4 S 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		TNT1 A 0
		TNT1 A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		TNT1 A 0 A_JumpIfCloser(119, "BackwardAttackGreenContinue")
		C6S4 EFG 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		C6S4 HIJKLMNO 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		TNT1 A 1 A_ReFire("BackwardAttackGreen1")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		SAW4 GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto ready.GreenBlood
		
	FlashPunching:
    FlashKicking:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashKickingBlueBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FlashKickingBlood")
		CSK1 ABCDEEEDCBA 1 
		SAWG GFEDCB 1 
		Stop
	
	FlashKickingBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashKickingBlueBlood")
		CSK2 ABCDEEEDCBA 1
		SAW2 GFEDCB 1 
		Stop
		
	FlashKickingBlueBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashKickingGreenBlood")
		CSK3 ABCDEEEDCBA 1
		SAW3 GFEDCB 1 
		Stop
		
	FlashKickingGreenBlood:
		CSK4 ABCDEEEDCBA 1
		SAW4 GFEDCB 1 
		Stop
		
	FlashAirKicking:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashAirKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashAirKickingBlueBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FlashAirKickingBlood")
		CSK1 ABCDEEEEDCBA 1
		SAWG GFEDCB 1 
		Stop
		
	FlashAirKickingBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashAirKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashAirKickingBlueBlood")
		CSK2 ABCDEEEEDCBA 1
		SAW2 GFEDCB 1 
		Stop
		
	FlashAirKickingBlueBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashAirKickingGreenBlood")
		CSK3 ABCDEEEEDCBA 1
		SAW3 GFEDCB 1 
		Stop
		
	FlashAirKickingGreenBlood:
		CSK4 ABCDEEEEDCBA 1
		SAW4 GFEDCB 1 
		Stop
		
	FlashSlideKicking:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashSlideKickingBlueBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FlashSlideKickingBlood")
		CSK1 ABCD 1
		CSK1 E 16
		CSK1 DCBA 1
		SAWG GFEDCB 1 
		Stop
	
	FlashSlideKickingBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashSlideKickingBlueBlood")
		CSK2 ABCD 1
		CSK2 E 16
		CSK2 DCBA 1
		SAW2 GFEDCB 1 
		Stop
		
	FlashSlideKickingBlueBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingGreenBlood")
		CSK3 ABCD 1
		CSK3 E 16
		CSK3 DCBA 1
		SAW3 GFEDCB 1 
		Stop
		
	FlashSlideKickingGreenBlood:
		CSK4 ABCD 1
		CSK4 E 16
		CSK4 DCBA 1
		SAW4 GFEDCB 1 
		Stop
		
	FlashSlideKickingStop:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingStopGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashSlideKickingStopBlueBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FlashSlideKickingStopBlood")
		CSK1 DCBA 1
		SAWG GFEDCB 1 
		Stop
	
	FlashSlideKickingStopBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingStopGreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FlashSlideKickingStopBlueBlood")
		CSK2 DCBA 1
		SAW2 GFEDCB 1 
		Stop
		
	FlashSlideKickingStopBlueBlood:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FlashSlideKickingStopGreenBlood")
		CSK3 DCBA 1
		SAW3 GFEDCB 1 
		Stop
		
	FlashSlideKickingStopBlueBlood:
		CSK4 DCBA 1
		SAW4 GFEDCB 1 
		Stop


// New Secondary Attack and Combo-----------------------------------------------------------------------------------------------------------


	AltFire:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			A_SetCrosshair(0);
		}
		TNT1 A 0 A_GiveInventory("PB_LockScreenTilt",1)
		TNT1 A 0 A_Giveinventory("HasCutingWeapon",1)
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"AltFire.Green")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"AltFire.Blue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"AltFire.Red")
		TNT1 A 0 A_JumpIfInventory("FiredGun", 1, "SlashDown")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackClean")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 1, "SlashUp.Clean")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		C7S1 ABCDEFGHIJKLM 1 A_SetRoll(roll+0.1)
		TNT1 A 0 A_SetRoll(roll+0.2,SPF_INTERPOLATE)//1.5
		TNT1 A 0 A_Refire("AltHold")
		Goto AltHold

	AltFire.Red:
		TNT1 A 0 A_JumpIfInventory("FiredGun", 1, "SlashDown.Red")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackRed")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 1, "SlashUp.Red")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		C7S2 ABCDEFGHIJKLM 1 A_SetRoll(roll+0.1,SPF_INTERPOLATE)
		TNT1 A 0 A_Refire("AltHold.Red")
		Goto AltHold.Red

	AltFire.Blue:
		TNT1 A 0 A_JumpIfInventory("FiredGun", 1, "SlashDown.Blue")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackBlue")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 1, "SlashUp.Blue")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		C7S3 ABCDEFGHIJKLM 1 A_SetRoll(roll+0.1,SPF_INTERPOLATE)
		TNT1 A 0 A_Refire("AltHold.Blue")
		Goto AltHold.Blue
		
	AltFire.Green:
		TNT1 A 0 A_JumpIfInventory("FiredGun", 1, "SlashDown.Green")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackGreen")
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 1, "SlashUp.Green")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		C7S4 ABCDEFGHIJKLM 1 A_SetRoll(roll+0.1,SPF_INTERPOLATE)
		TNT1 A 0 A_Refire("AltHold.Green")
		Goto AltHold.Green

	AltHold:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"AltHold.Green")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"AltHold.Blue")
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"AltHold.Red")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackClean")
		C7S1 NOPQ 1
		TNT1 A 0 A_Refire
		TNT1 A 0 A_AlertMonsters
		Goto SlashLeftClean

	AltHold.Red:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"AltHold.Green")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"AltHold.Blue")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackRed")
		C7S2 NOPQ 1
		TNT1 A 0 A_Refire
		TNT1 A 0 A_AlertMonsters
		Goto SlashLeft.Red

	AltHold.Blue:
		TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"AltHold.Green")
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackBlue")
		C7S3 NOPQ 1
		TNT1 A 0 A_Refire
		TNT1 A 0 A_AlertMonsters
		Goto SlashLeft.Blue
		
	AltHold.Green:
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackGreen")
		C7S4 NOPQ 1
		TNT1 A 0 A_Refire
		TNT1 A 0 A_AlertMonsters
		Goto SlashLeft.Green

	SlashLeftClean:
		TNT1 A 0 A_JumpIf (momZ > 0, "SlashDown")
		TNT1 A 0 A_JumpIf (momZ < 0, "SlashDown")
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_PlaySound("sawswing", 7,0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "ZerkLeftClean")
		C7S1 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		C7S1 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		C7S1 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C7S1 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		C7S1 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		C7S1 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 A 0 A_Jump(256, 22)
		TNT1 AA 0
		ZerkLeftClean:
		C7S1 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -30, 0, 0, 9)
		C7S1 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -15, 0, 0, 5)
		C7S1 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		C7S1 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -1)
		C7S1 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 30, 0, 0, -5)
		C7S1 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 AAA 0   
		
		C4S1 RSTU 1 
			{
				A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick1"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop

	SlashLeft.Red:
		TNT1 A 0 A_JumpIf (momZ > 0, "SlashDown.Red")
		TNT1 A 0 A_JumpIf (momZ < 0, "SlashDown.Red")
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_PlaySound("sawswing", 7,0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "ZerkLeftRed")
		C7S2 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		C7S2 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		C7S2 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C7S2 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		C7S2 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		C7S2 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 A 0 A_Jump(256, 22)
		TNT1 AA 0
		ZerkLeftRed:
		C7S2 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -30, 0, 0, 9)
		C7S2 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -15, 0, 0, 5)
		C7S2 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		C7S2 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -1)
		C7S2 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 30, 0, 0, -5)
		C7S2 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 AAA 0
		
		C4S2 RSTU 1 
			{
				A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick1"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.Blood

	SlashLeft.Blue:
		TNT1 A 0 A_JumpIf (momZ > 0, "SlashDown.Blue")
		TNT1 A 0 A_JumpIf (momZ < 0, "SlashDown.Blue")
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_PlaySound("sawswing", 7,0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "ZerkLeftBlue")
		C7S3 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		C7S3 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		C7S3 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C7S3 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		C7S3 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		C7S3 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 A 0 A_Jump(256, 22)
		TNT1 AA 0
		ZerkLeftBlue:
		C7S3 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -30, 0, 0, 9)
		C7S3 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -15, 0, 0, 5)
		C7S3 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		C7S3 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -1)
		C7S3 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 30, 0, 0, -5)
		C7S3 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 AAA 0
		
		C4S3 RSTU 1
			{
				A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick1"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.BlueBlood
		
	SlashLeft.Green:
		TNT1 A 0 A_JumpIf (momZ > 0, "SlashDown.Green")
		TNT1 A 0 A_JumpIf (momZ < 0, "SlashDown.Green")
		TNT1 A 0 A_StopSound(5)
		TNT1 A 0 A_PlaySound("sawswing", 7,0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "ZerkLeftGreen")
		C7S4 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		C7S4 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		C7S4 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C7S4 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		C7S4 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		C7S4 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 A 0 A_Jump(256, 22)
		TNT1 AA 0
		ZerkLeftGreen:
		C7S4 RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -30, 0, 0, 9)
		C7S4 T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		TNT1 A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", -15, 0, 0, 5)
		C7S4 U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		C7S4 V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -1)
		C7S4 W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 30, 0, 0, -5)
		C7S4 XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		TNT1 AAA 0
		
		C4S4 RSTU 1 
			{
				A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick1"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto Ready.GreenBlood

	ComboKick1:
		TNT1 A 0 {
			A_Overlay(-10, "FirstPersonLegsHide");
			A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, true);
		}
		TNT1 A 0 A_Recoil(-5)
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_GiveInventory("ComboSeq", 1)
		KIC2 ABCD 1 
		{
			A_SetRoll(roll-1,SPF_INTERPOLATE);
			A_SetAngle(-0.5 + angle,SPF_INTERPOLATE);
			A_SetPitch(+0.5 + pitch,SPF_INTERPOLATE);
		}
		TNT1 A 0 A_PlaySound("KICK", 0)
		KIC2 EFG 1
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, 3)
		TNT1 A 0 A_FireCustomMissile("KickAttack", 0, 0, 0, 0)
		TNT1 A 0 A_Jump(256, 2)
		TNT1 A 0 A_FireCustomMissile("SuperKickAttack", 0, 0, 0, 0)
		KIC2 HHI 1
		KIC2 JKLA 1 
		{
			A_SetRoll(roll+1,SPF_INTERPOLATE);
			A_SetAngle(+0.5 + angle,SPF_INTERPOLATE);
			A_SetPitch(-0.5 + pitch,SPF_INTERPOLATE);
		}
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_OverlayFlags (1,PSPF_PLAYERTRANSLATED, false)
		TNT1 AAA 1 
			{
				A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOPRIMARY);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop
		
	ComboKick2:
		TNT1 A 0 {
			A_Overlay(-10, "FirstPersonLegsHide");
			A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, true);
		}
		TNT1 A 0 A_Recoil(-5)
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_GiveInventory("ComboSeq", 1)
		KIC3 ABCDE 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_PlaySound("KICK", 0)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, 5)
		KIC3 F 1 A_FireCustomMissile("KickAttack", -10, 0, 0, -8)
		KIC3 G 1 A_FireCustomMissile("KickAttack", 0, 0, 0, -2)
		KIC3 H 1 A_FireCustomMissile("KickAttack", 10, 0, 0, -8)
		
		TNT1 A 0 A_Jump(256, 5)
		TNT1 A 0
		KIC3 F 1 A_FireCustomMissile("SuperKickAttack", -10, 0, 0, -8)
		KIC3 G 1 A_FireCustomMissile("SuperKickAttack", 0, 0, 0, -2)
		KIC3 H 1 A_FireCustomMissile("SuperKickAttack", 10, 0, 0, -8)
		
		TNT1 A 0
		KIC3 IJKLM 1 A_SetRoll(roll-2)
		KIC3 NOPQR 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, false)
		TNT1 AAA 1 
			{
				A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto OnLoop

	SlashUp.Clean:
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-10)
		TNT1 A 0 A_AlertMonsters
		C9S1 ABC 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashUpZerk.Clean")
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S1 D 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S1 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S1 F 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S1 G 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S1 H 1 

		TNT1 A 0 A_Jump(256, 12)
		SlashUpZerk.Clean:
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S1 D 1 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -12)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S1 E 1 A_FireCustomMissile("ZerkSwing", 8, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S1 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S1 G 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 7)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S1 H 1 A_FireCustomMissile("ZerkSwing", -10, 0, 0, 14)
		
		TNT1 AA 0

		C9S1 IJK 1
		C9S1 LMN 1 A_SetRoll(roll-1,SPF_INTERPOLATE)
		C9S1 OP 1
		C9S1 QR 1 
		{
			A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
			
			if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
			if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
			if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
			if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
			if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
			if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
			if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
			if (CountInv("Taunting") == 1) { return state("Taunt"); }
			if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
			return state("");
		}
			Goto OnLoop

	SlashUp.Red:
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-10)
		TNT1 A 0 A_AlertMonsters
		C9S2 ABC 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashUpZerk.Red")
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S2 D 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S2 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S2 F 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S2 G 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S2 H 1 

		TNT1 A 0 A_Jump(256, 12)
		SlashUpZerk.Red:
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S2 D 1 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -12)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S2 E 1 A_FireCustomMissile("ZerkSwing", 8, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S2 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S2 G 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 7)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S2 H 1 A_FireCustomMissile("ZerkSwing", -10, 0, 0, 14)
		
		TNT1 AA 0

		C9S2 IJK 1
		C9S2 LMN 1 A_SetRoll(roll-1,SPF_INTERPOLATE)
		C9S2 OPQR 1
		{
			A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
			
			if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
			if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
			if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
			if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
			if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
			if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
			if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
			if (CountInv("Taunting") == 1) { return state("Taunt"); }
			if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
			return state("");
		}
		Goto Ready.Blood

	SlashUp.Blue:
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-10)
		TNT1 A 0 A_AlertMonsters
		C9S3 ABC 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashUpZerk.Blue")
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S3 D 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S3 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S3 F 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S3 G 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S3 H 1 

		TNT1 A 0 A_Jump(256, 12)
		SlashUpZerk.Blue:
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S3 D 1 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -12)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S3 E 1 A_FireCustomMissile("ZerkSwing", 8, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S3 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S3 G 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 7)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S3 H 1 A_FireCustomMissile("ZerkSwing", -10, 0, 0, 14)
		
		TNT1 AA 0

		C9S3 IJK 1
		C9S3 LMN 1 A_SetRoll(roll-1,SPF_INTERPOLATE)
		C9S3 OP 1
		C9S3 QR 1 
		{
			A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
			
			if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
			if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
			if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
			if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
			if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
			if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
			if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
			if (CountInv("Taunting") == 1) { return state("Taunt"); }
			if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
			return state("");
		}
		Goto Ready.BlueBlood

	SlashUp.Green:
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-10)
		TNT1 A 0 A_AlertMonsters
		C9S4 ABC 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashUpZerk.Green")
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S4 D 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S4 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S4 F 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S4 G 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S4 H 1 

		TNT1 A 0 A_Jump(256, 12)
		SlashUpZerk.Green:
		TNT1 A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		C9S4 D 1 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -12)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		C9S4 E 1 A_FireCustomMissile("ZerkSwing", 8, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		C9S4 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		C9S4 G 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 7)
		TNT1 A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		C9S4 H 1 A_FireCustomMissile("ZerkSwing", -10, 0, 0, 14)
		
		TNT1 AA 0

		C9S4 IJK 1
		C9S4 LMN 1 A_SetRoll(roll-1,SPF_INTERPOLATE)
		C9S4 OP 1
		C9S4 QR 1 
		{
			A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
			
			if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
			if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
			if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
			if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
			if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
			if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
			if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
			if (CountInv("Taunting") == 1) { return state("Taunt"); }
			if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
			return state("");
		}
		Goto Ready.GreenBlood

	SlashDown:
		TNT1 A 0 A_SetRoll(0)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-5)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashDownZerkClean")
		C8S1 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S1 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S1 F 1 
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S1 G 1
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S1 H 1 
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 20, 0, 0, -12)
		
		TNT1 A 1 A_Jump(256, 16)
	SlashDownZerkClean:
		C8S1 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S1 E 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 14)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S1 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 7)
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S1 G 1 A_FireCustomMissile("ZerkSwing", 5, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S1 H 1 A_FireCustomMissile("ZerkSwing", 13, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 20, 0, 0, -12)

		TNT1 AAA 0

		C8S1 IJ 1 
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		Goto OnLoop

	SlashDown.Red:
		TNT1 A 0 A_SetRoll(0)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-5)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashDownZerkRed")
		C8S2 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S2 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S2 F 1 
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S2 G 1
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S2 H 1 
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 20, 0, 0, -12)
		
		TNT1 A 1 A_Jump(256, 16)
	SlashDownZerkRed:
		C8S2 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S2 E 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 14)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S2 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 7)
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S2 G 1 A_FireCustomMissile("ZerkSwing", 5, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S2 H 1 A_FireCustomMissile("ZerkSwing", 13, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 20, 0, 0, -12)

		TNT1 AAA 0

		C8S2 IJ 1 
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		Goto Ready.Blood

	SlashDown.Blue:
		TNT1 A 0 A_SetRoll(0)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-5)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashDownZerkBlue")
		C8S3 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S3 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S3 F 1 
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S3 G 1
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S3 H 1 
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 20, 0, 0, -12)
		
		TNT1 A 1 A_Jump(256, 16)
	SlashDownZerkBlue:
		C8S3 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S3 E 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 14)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S3 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 7)
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S3 G 1 A_FireCustomMissile("ZerkSwing", 5, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S3 H 1 A_FireCustomMissile("ZerkSwing", 13, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 20, 0, 0, -12)

		TNT1 AAA 0

		C8S3 IJ 1 
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		Goto Ready.BlueBlood
		
		
	SlashDown.Green:
		TNT1 A 0 A_SetRoll(0)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_PlaySound("sawswing", 7, 0.5)
		TNT1 A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		TNT1 A 0 A_Recoil(-5)

		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, "SlashDownZerkGreen")
		C8S4 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S4 E 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S4 F 1 
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S4 G 1
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S4 H 1 
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 20, 0, 0, -12)
		
		TNT1 A 1 A_Jump(256, 16)
	SlashDownZerkGreen:
		C8S4 ABCD 1 
		TNT1 A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		C8S4 E 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 14)
		TNT1 A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		C8S4 F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 7)
		TNT1 AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		C8S4 G 1 A_FireCustomMissile("ZerkSwing", 5, 0, 0, 2)
		TNT1 A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		C8S4 H 1 A_FireCustomMissile("ZerkSwing", 13, 0, 0, -6)
		TNT1 A 0 A_FireCustomMissile("ZerkSwing", 20, 0, 0, -12)

		TNT1 AAA 0

		C8S4 IJ 1 
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		Goto Ready.GreenBlood

	}
}


ACTOR SawSwing : FastProjectile
{
	Radius 6
	Height 6
	DamageType Cut
	Projectile 
	+FORCEXYBILLBOARD
	+NOEXTREMEDEATH
	+BLOODSPLATTER
	Damage 10
	Speed 40
	ProjectileKickBack 300
	Obituary "%o was sliced-n-diced by %k"
	SeeSound "none"
	DeathSound "none"
	Decal "SawDecalNew1"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1
		Stop
	XDeath:
		TNT1 A 0 //A_SpawnItemEx("BloodHit",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_PlaySound("Machete/Yum", 3)
		TNT1 A 1
		Stop
	Death:
		TNT1 A 0 A_SpawnItemEx("SSawPuff3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 1
		Stop
	Crash:
		TNT1 A 0 A_SpawnItemEx("SSawPuff3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 1
		Stop
	}
}


ACTOR SawNoPush : SawSwing
{
	Damage 14
	ProjectileKickBack 0
}

ACTOR ZerkSwing : SawSwing
{
	Radius 1
	Height 1
	Damage 2
	Speed 40
	ProjectileKickBack 100
	+RIPPER
	+NOBOSSRIP
	//-BLOODSPLATTER
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1
		TNT1 A 1
		Stop
	XDeath:
		TNT1 A 0
		TNT1 A 0 //A_SpawnItemEx("BloodHit",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_PlaySound("Machete/Yum", 3)
		TNT1 A 1
		Stop
	Death:
		TNT1 A 0
		TNT1 A 1
		Stop
	Crash:
		TNT1 A 0
		TNT1 A 1
		Stop
	}
}

ACTOR ThrustKnockdown
{
+NOBLOCKMAP
+MISSILE
Radius 2
Height 2
Damagetype ExtremePunches
States    
	{
	Spawn:
	TNT1 A 0
	TNT1 A 1
	Goto Death

	Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(2,150,0)
	TNT1 A 1
	TNT1 A 0 A_Explode(2,150,0)
	TNT1 A 1
	Stop
	}
}


