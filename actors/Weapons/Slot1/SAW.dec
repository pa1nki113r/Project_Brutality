//Fuck this weapon, seriously. Will need to revisit this weapon and rewrite it like the fists...
Actor HasCutingWeapon: Inventory { inventory.maxamount 1}
ACTOR ComboSeq : Inventory {Inventory.MaxAmount 2}
ACTOR FiredGun : Inventory {Inventory.MaxAmount 1}
Actor SawFireSeq1: Inventory {inventory.maxamount 1}
Actor SawFireSeq2: Inventory {inventory.maxamount 1}
Actor MovingForward: Inventory{inventory.maxamount 1}
Actor MovingLeft: Inventory {inventory.maxamount 1}
Actor MovingRight: Inventory {inventory.maxamount 1}
Actor MovingBackward: Inventory {inventory.maxamount 1}

ACTOR ChainsawSSGCooldownActive : PowerUp {Powerup.Duration -10}
ACTOR ChainsawSSGCooldown : PowerupGiver 
{	PowerUp.Type "ChainsawSSGCooldownActive"
	+AUTOACTIVATE
}
	
Actor PB_Chainsaw  : PB_Weapon replaces Chainsaw
{
	Weapon.BobRangeX 0.3
	Weapon.BobRangeY 0.5
	Weapon.BobStyle InverseSmooth
	Weapon.BobSpeed 2.4
	+FLOORCLIP
	+DONTGIB
	weapon.selectionorder 220
	Weapon.KickBack 0
	Obituary "$OB_MPCHAINSAW"
	Inventory.PickUpSound "IGOTSAW"
	Weapon.UpSound "none"
	weapon.readysound "weapons/chainsaw/idle"
	Inventory.PickupMessage "You found the Chainsaw, find some meat!!! (Slot 1)"
	+WEAPON.NOAUTOAIM
	+WEAPON.AXEBLOOD
	+WEAPON.NOALERT
	+WEAPON.MELEEWEAPON
	Tag "Chainsaw"
	Scale .49
	Inventory.AltHUDIcon "CSAWA0"
	states
	{
	Spawn.V5:
		VSAW A 10 {
			IF( A_CHECKRANGE( V5_MDist , "NULL", TRUE) ) {A_SetSpawnSprite("CSAW");}
			}
	Spawn:
		TNT1 A 0 NoDelay A_jumpif( V5_MODELS == 1 && V5_Cull == 1, "Spawn.V5")
		CSAW A 10 {
				if ( GetCvar( "V5_MODELS" ) == 1 && GetCVar( "V5_Cull" ) == 0 ) {A_SetSpawnSprite("VSAW");}
		}
		LOOP
		
		Select:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			PB_HandleCrosshair(90);
			A_TakeInventory("PB_LockScreenTilt",1);
		}
		Goto SelectFirstPersonLegs
		SelectContinue:
		TNT1 A 0 A_TakeInventory("RifleSelected",1)
		TNT1 A 0 A_TakeInventory("CarbineSelected",1)
		TNT1 A 0 A_TakeInventory("FistsSelected",1)
		TNT1 A 0 A_GiveInventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("SledgeSelected",1)
		TNT1 A 0 A_TakeInventory("HandgunSelected",1)
		TNT1 A 0 A_TakeInventory("DualHandgunSelected",1)
		TNT1 A 0 A_TakeInventory("RevolverSelected",1)
		TNT1 A 0 A_TakeInventory("ShotgunSelected",1)
		TNT1 A 0 A_TakeInventory("SSGSelected",1)
		TNT1 A 0 A_TakeInventory("ASGSelected",1)
		TNT1 A 0 A_TakeInventory("QSGSelected",1)
		TNT1 A 0 A_TakeInventory("MinigunSelected",1)
		TNT1 A 0 A_TakeInventory("NewChaingunSelected",1)
		TNT1 A 0 A_TakeInventory("RocketLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("GrenadeLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("SGLSelected",1)
		TNT1 A 0 A_TakeInventory("PlasmaGunSelected",1)
		TNT1 A 0 A_TakeInventory("M2Selected",1)	
		TNT1 A 0 A_TakeInventory("FreezerSelected",1)
		TNT1 A 0 A_TakeInventory("RailGunSelected",1)
		TNT1 A 0 A_TakeInventory("BFGSelected",1)
		TNT1 A 0 A_TakeInventory("BFGBeamSelected",1)
		TNT1 A 0 A_TakeInventory("BHCSelected",1)
		TNT1 A 0 A_TakeInventory("RevenantLauncherSelected",1)
		TNT1 A 0 A_TakeInventory("FlameCannonSelected",1)
		TNT1 A 0 A_TakeInventory("HellRifleSelected",1)
		TNT1 A 0 A_TakeInventory("LandMineSelected",1)
		TNT1 A 0 A_TakeInventory("UACSMGSelected",1)
		TNT1 A 0 A_TakeInventory("SubMachineGunSelected",1)
		TNT1 A 0 A_TakeInventory("LostSoulSelected",1)
		TNT1 A 0 A_TakeInventory("HasBarrel",1)
		TNT1 A 0 A_TakeInventory("HasBurningBarrel",1)
		TNT1 A 0 A_TakeInventory("HasIncendiaryWeapon", 1)
		TNT1 A 0 A_Takeinventory("PowerBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Raise
		TNT1 AAAA 1 A_Raise
		Wait
		
	Deselect:
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			PB_HandleCrosshair(90);
			A_TakeInventory("PB_LockScreenTilt",1);
		}
		TNT1 A 0 A_TakeInventory("PowerBloodOnVisor",1)
		TNT1 A 0 A_TakeInventory("PowerBlueBloodOnVisor",1)
		TNT1 A 0 A_TakeInventory("PowerGreenBloodOnVisor",1)
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("SawSelected",1)
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_JumpIfInventory("GotMeatShield", 1, "GrabEnemy")
		TNT1 A 0 A_Stopsound(1)
		TNT1 AAAAAAAAAAAAAAAAAA 0 A_Lower
		Wait


	Steady:
		TNT1 A 1
		Goto Ready

	Ready3:
		TNT1 A 0
		Goto Ready+35

    Ready:
	    SAWS A 0
		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
		TNT1 A 0 A_TakeInventory("FiredGun", 1)
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_JumpIfInventory("GoFatality", 1, "Steady")
        SAWS WXYZ 1 A_SetRoll(roll+0.6,SPF_INTERPOLATE)
        TNT1 A 0 A_PlaySound("DSSAWZIP")
        SAWS A 1 A_Zoomfactor(0.98)
        SAWS B 1 A_Zoomfactor(0.96)
        SAWS C 1 A_Zoomfactor(0.98)
        SAWS D 1 A_Zoomfactor(1.0)
		SAWS EFGH 1 A_SetRoll(roll-0.6,SPF_INTERPOLATE)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS I 1
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS J 1 A_playsound("weapons/chainsaw/draw", 1)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWS K 1 A_PlaySound("DSSAWUP", 2)
		RIFF A 0 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)

        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0
	OnLoop:
 		TNT1 A 0 A_PlaySound("weapons/chainsaw/idle",CHAN_WEAPON,1,true,0.5)
		TNT1 A 0 A_SetRoll(0)
 		TNT1 A 0 A_TakeInventory("ComboSeq", 2)
 		TNT1 A 0 A_TakeInventory("FiredGun", 1)
 		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		TNT1 A 0 A_Takeinventory("PB_LockScreenTilt",1)
	OnLoop1:
		SAWG ABCDEFGFEDCB 1 
			{
				A_WeaponReady;
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		TNT1 A 0 {
			if (CountInv("PowerGreenBloodOnVisor") == 1) { A_Overlay(-2,"BloodDrop"); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) { A_Overlay(-2,"BloodDrop"); }
			if (CountInv("PowerBloodOnVisor") == 1) { A_Overlay(-2,"BloodDrop"); }
		}
		Loop
	Ready.GreenBlood:
		TNT1 A 0 A_TakeInventory("PowerBlueBloodOnVisor", 1)
		TNT1 A 0 A_TakeInventory("PowerBloodOnVisor", 1)
		Goto OnLoop
	Ready.BlueBlood:
		TNT1 A 0 A_TakeInventory("PowerBloodOnVisor", 1)
		TNT1 A 0 A_TakeInventory("PowerGreenBloodOnVisor", 1)
		Goto OnLoop
	Ready.Blood:
		TNT1 A 0 A_TakeInventory("PowerBlueBloodOnVisor", 1)
		TNT1 A 0 A_TakeInventory("PowerGreenBloodOnVisor", 1)
		Goto OnLoop
		
	BloodDrop:
		SSW4 ABCDEFGHIJKL 0
		SSW3 ABCDEFGHIJKL 0
		SSW2 ABCDEFGHIJKL 0
		TNT1 ABCDEFGHIJKL 1 {
			A_WeaponReady;
			if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetOverlaySprite(-2,"SSW4"); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetOverlaySprite(-2,"SSW3"); }
			if (CountInv("PowerBloodOnVisor") == 1) { A_SetOverlaySprite(-2,"SSW2"); }
		}
		TNT1 A 0 {
			if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SpawnItemEx("DripingSawGreenBlood", 0, -4, 2, 0, 0); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SpawnItemEx("DripingSawBlueBlood", 0, -4, 2, 0, 0); }
			if (CountInv("PowerBloodOnVisor") == 1) { A_SpawnItemEx("DripingSawBlood", 0, -4, 2, 0, 0); }
		}
		Stop
		
	WeaponSpecial:
		TNT1 A 0 
			{
				A_WeaponOffset(0,32);
				A_Takeinventory("GoWeaponSpecialAbility",1);
				if (CountInv("PB_SSG") >= 1) { return state("QuickShot"); }
				A_Print("You need a loaded sawed-off shotgun!");
				return state("");
			}
		Goto OnLoop
	QuickShot:
		TNT1 A 0 A_JumpIfInventory("ChainsawSSGCooldownActive",1,"DontQuickShot")
		TNT1 A 0 A_JumpIfInventory("NewShell",2,2)
		TNT1 A 0 A_Print("You need shotgun shells!", 2)
		Goto OnLoop
		CSK1 A 0 
			{
				A_GunFlash("SSGFlash");
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("CSK4");}
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("CSK3");}
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("CSK2");}
				return state("");
			}
	WeaponSpecialClean:
		"####" ABCDE 1
		"####" E 25
		"####" DCBA 1 
		TNT1 A 0 {
			A_Takeinventory("GoWeaponSpecialAbility",1);
			if (CountInv("PowerGreenBloodOnVisor") == 1) {return state("WeaponSpecialGreenBlood"); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) {return state("WeaponSpecialBlueBlood"); }
			if (CountInv("PowerBloodOnVisor") == 1) {return state("WeaponSpecialBlood"); }
			return state("");
			}
		Goto OnLoop
		
	WeaponSpecialBlood:
		TNT1 A 0
		Goto Ready.Blood
		
	WeaponSpecialBlueBlood:
		TNT1 A 0
		Goto Ready.BlueBlood
		
	WeaponSpecialGreenBlood:
		TNT1 A 0
		Goto Ready.GreenBlood
		
	SSGFlash:
		TNT1 A 0 A_Takeinventory("HasCutingWeapon",1)
		CSSG ATUB 1 A_SetRoll(roll+0.8,SPF_INTERPOLATE)
		TNT1 A 0 A_PlaySound("insertshell", 5)
		CSSG CEFGH 1
		TNT1 A 0 A_PlaySound("weapons/ssg/close", 7)
		CSSG IIII 1 A_SetRoll(roll-0.8,SPF_INTERPOLATE)
		
		TNT1 A 0 A_TakeInventory("NewShell", 2)
		TNT1 A 0 A_AlertMonsters
		TNT1 A 0 A_GiveInventory("ChainsawSSGCooldown",1) 
	    CSSG J 1 BRIGHT A_FireBullets(0, 0, 1, 35, "shotpuff", 1, 220)
		TNT1 A 0  A_PlaySound("SSHFIRE", 6)
		TNT1 AAAAAAAAAAA 0 A_FireCustomMissile("Tracer", Random(-7, 7), 0, -1, Random(-7, 7))
		TNT1 A 0 A_FireBullets(15, 9, 22, 7, "ShotgunPuff")
		TNT1 AA 0 A_FireCustomMissile("YellowFlareSpawn", 15, 0, 0, 0)
		TNT1 AA 0 A_FireCustomMissile("YellowFlareSpawn", -15, 0, 0, 0)
		TNT1 A 0 A_SetPitch(-1.55 + pitch)
		CSSG K 1 BRIGHT
		CSSG LMNOONM 1
		TNT1 A 0 A_PlaySound("insertshell", 5)
		CSSG PQRS 1
		TNT1 A 0 A_PlaySound("weapons/ssg/close", 7)
		Stop
		
	DontQuickShot:
		TNT1 A 0 A_Print ("Sawed-Off Quick Shot not ready!", 2)
		Goto OnLoop
		
//Revamping the chainsaw's primary fire behavior: Directional Swings based on movement direction, like in KF2
	Fire:
		SAW4 ABCDEFG 0
		SAW3 ABCDEFG 0
		SAW2 ABCDEFG 0
		SAWG ABCDEFG 0
		
		CSA4 ABCDEFG 0
		CSA3 ABCDEFG 0
		CSA2 ABCDEFG 0
		CSA1 ABCDEFG 0
		
		CSS4 ABCDEFGHIJKLMNOPQRS 0
		CSS3 ABCDEFGHIJKLMNOPQRS 0
		CSS2 ABCDEFGHIJKLMNOPQRS 0
		CSS1 ABCDEFGHIJKLMNOPQRS 0
		
		C4S4 ABCDEFGHIJKLMNOPQRS 0
		C4S3 ABCDEFGHIJKLMNOPQRS 0
		C4S2 ABCDEFGHIJKLMNOPQRS 0
		C4S1 ABCDEFGHIJKLMNOPQRS 0
		
		C5S4 ABCDEFGHIJKLMNOPQRSTUV 0
		C5S3 ABCDEFGHIJKLMNOPQRSTUV 0
		C5S2 ABCDEFGHIJKLMNOPQRSTUV 0
		C5S1 ABCDEFGHIJKLMNOPQRSTUV 0
		
		C6S4 ABCDEFGHIJKLMNOPQRS 0
		C6S3 ABCDEFGHIJKLMNOPQRS 0
		C6S2 ABCDEFGHIJKLMNOPQRS 0
		C6S1 ABCDEFGHIJKLMNOPQRS 0
		
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			PB_HandleCrosshair(90);
		}
		"####" A 0 A_GiveInventory("PB_LockScreenTilt",1)
		"####" A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				return state("");
			}
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) { 
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {	
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
//No Blood
	CleanAttack:
		"####" A 0 ACS_NamedExecute("GetPlayerMovementDirection", 0, 0, 0, 0) //Script needs a 1 tic buffer to work
        SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" A 1
		"####" A 0
			{
				A_AlertMonsters;
				A_Giveinventory("HasCutingWeapon",1);
				if (CountInv("MovingForward") == 1) { return state("ForwardAttackClean"); }
				if (CountInv("MovingRight") == 1) { return state("RightAttackClean"); }
				if (CountInv("MovingLeft") == 1) { return state("LeftAttackClean"); }
				if (CountInv("MovingBackward") == 1) { return state("BackwardAttackClean"); }
				return state("");
			}
	ClassicAttackClean:
		"####" A 0 A_PlaySound("sawswing", 6, 0.5)
        CSA1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("CSA4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("CSA3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("CSA2"); }
			}
		"####" ABCD 1
	ClassicAttackCleanLoop:
		
		CSA1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("CSA4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("CSA3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("CSA2"); }
			}
		"####" EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		"####" F 1 
			{
				A_Saw("", "Machete/Yum", 1, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		"####" EFG 1
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				
			}
		"####" A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		"####" A 0 A_ReFire("ClassicAttackCleanLoop")
		"####" A 0 A_Playsound("CSAWSTAT", 7)
		"####" A 0 A_TakeInventory("ComboSeq", 2)
		"####" DCBA 1 A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0)
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
		
	ForwardAttackClean:
		"####" A 0 A_PlaySound("sawswing2", 3)
	ForwardAttackClean1:
		CSS1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("CSS4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("CSS3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("CSS2"); }
			}
		"####" ABCDE 1
		"####" A 0 A_PlaySound("weapons/gswing", 2,0.6)
		"####" FGHI 1 A_SetRoll(roll-0.25,SPF_INTERPOLATE)
		Goto ForwardAttackCleanContinue+3
	ForwardAttackCleanContinue:
		CSS1 A 0 {
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("CSS4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("CSS3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("CSS2"); }
			}
		"####" JK 1 
		"####" L 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_JumpIfCloser(119, "ForwardAttackCleanContinue")
		"####" MNO 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		"####" PQRS 1 A_SetRoll(roll+0.25,SPF_INTERPOLATE)
		"####" A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		"####" A 0 A_ReFire("ForwardAttackClean1")
		"####" A 0 A_Playsound("CSAWSTAT", 7)
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
		
	RightAttackClean:
		"####" A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		"####" A 0 
		C4S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		"####" ABCDE 1 A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto RightAttackCleanContinue+3
	RightAttackCleanContinue:
		C4S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		"####" KL 1 
		"####" M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		"####" A 0 A_JumpIfCloser(119, "RightAttackCleanContinue")
		"####" FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		TNT1 A 2 A_Refire("RightAttackClean2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 NOPQ 1 {
				A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0);
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
	RightAttackClean2:
		"####" A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C4S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		"####" JIHGF 1  A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto RightAttackClean2Continue+3
	RightAttackClean2Continue:
		C4S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		"####" KL 1 
		"####" M 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		"####" A 0 A_JumpIfCloser(119, "RightAttackClean2Continue")
		"####" EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+0.2,SPF_INTERPOLATE);
			}
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		TNT1 A 2 A_Refire("RightAttackClean")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 RSTU 1 {
				A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0);
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
		
	LeftAttackClean:
		"####" A 0 A_PlaySound("sawswing", CHAN_WEAPON, 0.5)
		"####" A 0 
		C5S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C5S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C5S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C5S2"); }
			}
		"####" ABCDE 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		Goto LeftAttackCleanContinue+3
	LeftAttackCleanContinue:
		C5S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C5S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C5S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C5S2"); }
			}
		"####" LM 1 
		"####" N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		"####" A 0 A_JumpIfCloser(119, "LeftAttackCleanContinue")
		"####" FGHIJ 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll+.2,SPF_INTERPOLATE);
			}
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		TNT1 A 1 A_Refire("LeftAttackClean2")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 RSTU 1 {
			A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0);
			if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
			if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
			
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
	LeftAttackClean2:
		"####" A 0 A_PlaySound("sawswing2", CHAN_WEAPON, 1)
		C5S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C5S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C5S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C5S2"); }
			}
		"####" KJHGF 1  A_SetRoll(roll+0.2,SPF_INTERPOLATE)
		Goto LeftAttackClean2Continue+3
	LeftAttackClean2Continue:
		C5S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C5S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C5S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C5S2"); }
			}
		"####" ML 1 
		"####" N 1 A_Saw("", "Machete/Yum", 8, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_playsound("weapons/chainsaw/loop", 7,0.7)
		"####" A 0 A_JumpIfCloser(119, "LeftAttackClean2Continue")
		"####" EDCBA 1 
			{
				A_Saw("", "Machete/Yum", 2, "SSawPuff2", SF_NOPULLIN | SF_NOTURN , 120, 32);
				A_SetRoll(roll-0.2,SPF_INTERPOLATE);
			}
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		TNT1 A 1 A_Refire("LeftAttackClean")
		TNT1 A 0 A_Playsound("CSAWSTAT", 7)
		C4S1 NOPQ 1 {
			A_FireCustomMissile("GunFireSmoke", 0, 0, -5, -5, 0, 0);
			if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
			if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
			if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
	
	BackwardAttackClean:
		"####" A 0 A_PlaySound("sawswing", 3,0.5)
		C6S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C6S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C6S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C6S2"); }
			}
		"####" MNO 1
	BackwardAttackClean1:
		"####" A 0 A_PlaySound("weapons/gswing", 2,0.8)
		"####" ABCD 1 
		{
			A_SetRoll(roll+0.4,SPF_INTERPOLATE);
			A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120);
		}
		Goto BackwardAttackCleanContinue+5
	BackwardAttackCleanContinue:
		C6S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C6S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C6S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C6S2"); }
			}
		"####" P 1 
		"####" Q 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		"####" R 1 
		"####" S 1 A_Saw("", "Machete/Yum", 4, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		"####" A 0 A_playsound("weapons/chainsaw/loop3", 7,0.7,1)
		"####" A 0 A_JumpIfCloser(119, "BackwardAttackCleanContinue")
		"####" EFG 1 A_Saw("", "Machete/Yum", 8, "SSawPuff", SF_NOPULLIN | SF_NOTURN , 120)
		"####" HIJKLMNO 1 A_SetRoll(roll-0.2,SPF_INTERPOLATE)
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		"####" A 1 A_ReFire("BackwardAttackClean1")
		"####" A 0 A_Playsound("CSAWSTAT", 7)
		SAWG A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("SAW4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("SAW3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("SAW2"); }
			}
		"####" GHGHGHGGHHGGHH 1 
			{
				A_WeaponReady;
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("DoKick"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
	
	EndCheck:
        TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"Ready.Blood")
        TNT1 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"Ready.GreenBlood")
		TNT1 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"Ready.BlueBlood")
		Goto Onloop

		
	FlashPunching:
    FlashKicking:
		/*
		SAW4 ABCDEFG 0
		SAW3 ABCDEFG 0
		SAW2 ABCDEFG 0
		SAWG ABCDEFG 0
		CSK4 ABCDE 0
		CSK3 ABCDE 0
		CSK2 ABCDE 0
		CSK1 ABCDE 0
		*/
        CSK4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		CSK3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		CSK2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		CSK1 A 0 
		"####" ABCDEEEDCBA 1
		SAW4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		SAW3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		SAWG A 0 
		"####" GFEDCB 1
		Stop
		
	FlashAirKicking:
		CSK4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		CSK3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		CSK2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		CSK1 A 0 
		"####" ABCDEEEDCBA 1
		SAW4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		SAW3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		SAWG A 0 
		"####" GFEDCB 1
		Stop
		
	FlashSlideKicking:
		CSK4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		CSK3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		CSK2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		CSK1 A 0
		"####" ABCD 1
		"####" E 16
		"####" DCBA 1
		SAW4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		SAW3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		SAWG A 0 
		"####" GFEDCB 1
		Stop
		
	FlashSlideKickingStop:
		CSK4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		CSK3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		CSK2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		CSK1 A 0 
		"####" DCBA 1
		SAW4 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
		SAW3 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,2)
		SAWG A 0 
		"####" GFEDCB 1
		Stop


// New Secondary Attack and Combo-----------------------------------------------------------------------------------------------------------


	AltFire:
		C9S4 ABCDEFGHIJKLMNOPQRS 0
		C9S3 ABCDEFGHIJKLMNOPQRS 0
		C9S2 ABCDEFGHIJKLMNOPQRS 0
		C9S1 ABCDEFGHIJKLMNOPQRS 0
		
		C8S4 ABCDEFGHIJKLMNOPQRS 0
		C8S3 ABCDEFGHIJKLMNOPQRS 0
		C8S2 ABCDEFGHIJKLMNOPQRS 0
		C8S1 ABCDEFGHIJKLMNOPQRS 0
		
		C7S4 ABCDEFGHIJKLM 0
		C7S3 ABCDEFGHIJKLM 0
		C7S2 ABCDEFGHIJKLM 0
		C7S1 ABCDEFGHIJKLM 0
		
		TNT1 A 0 {
			A_WeaponOffset(0,32);
			A_SetRoll(0);
			PB_HandleCrosshair(90);
		}
		"####" A 0 A_GiveInventory("PB_LockScreenTilt",1)
		"####" A 0 A_Giveinventory("HasCutingWeapon",1)
		"####" A 0 A_JumpIfInventory("FiredGun", 1, "SlashDown")
		"####" A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackClean")
		"####" A 0 A_JumpIfInventory("ComboSeq", 1, "SlashUp.Clean")
		C7S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C7S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C7S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C7S2"); }
			}
		"####" A 0 A_playsound("weapons/chainsaw/idle", 5)
		"####" ABCDEFGHIJKLM 1 A_SetRoll(roll+0.1)
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}	
		"####" A 0 A_SetRoll(roll+0.2,SPF_INTERPOLATE)//1.5
		"####" A 0 A_Refire("AltHold")
		Goto AltHold


	AltHold:
		C7S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C7S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C7S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C7S2"); }
			}
		"####" A 0 A_playsound("weapons/chainsaw/idle", 5)
		"####" A 0 A_JumpIfInventory("ComboSeq", 2, "ClassicAttackClean")
		"####" NOPQ 1
		"####" A 0 A_Refire
		"####" A 0 A_AlertMonsters
		Goto SlashLeftClean

	SlashLeftClean:
		C7S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C7S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C7S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C7S2"); }
			}
		"####" A 0 A_JumpIf (momZ > 0, "SlashDown")
		"####" A 0 A_JumpIf (momZ < 0, "SlashDown")
		"####" A 0 A_StopSound(5)
		"####" A 0 A_PlaySound("sawswing", 7,0.5)
		"####" A 0 A_PlaySound("weapons/gswing", 0, 0.8)

		"####" A 0 A_JumpIfInventory("PowerStrength", 1, "ZerkLeftClean")
		"####" RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		"####" T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		"####" A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		"####" U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		"####" V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		"####" W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		"####" XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)

		"####" A 0 A_Jump(256, 22)
		"####" AA 0
		ZerkLeftClean:
		C7S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C7S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C7S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C7S2"); }
			}
		"####" RS 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", -30, 0, 0, 9)
		"####" A 0 A_FireCustomMissile("ZerkSwing", -30, 0, 0, 9)
		"####" T 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)//0
		"####" A 0 A_FireCustomMissile("SawSwing", -15, 0, 0, 5)
		"####" A 0 A_FireCustomMissile("ZerkSwing", -15, 0, 0, 5)
		"####" U 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		"####" A 0 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		"####" V 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -1)
		"####" A 0 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -1)
		"####" W 1 A_SetRoll(roll-0.5,SPF_INTERPOLATE)
		"####" A 0 A_FireCustomMissile("SawSwing", 30, 0, 0, -5)
		"####" A 0 A_FireCustomMissile("ZerkSwing", 30, 0, 0, -5)
		"####" XYZ 1 A_SetRoll(roll+0.5,SPF_INTERPOLATE)
		"####" A 0
			{
				if (CountInv("GreenBloodSplatterz") == 1) {
					A_TakeInventory("GreenBloodSplatterz", 1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("BlueBloodSplatterz") == 1) {
					A_TakeInventory("BlueBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBloodOnVisor",1);
				}
				else if (CountInv("RedBloodSplatterz") == 1) {
					A_TakeInventory("RedBloodSplatterz", 1);
					A_TakeInventory("PowerGreenBloodOnVisor",1);
					A_TakeInventory("PowerBlueBloodOnVisor",1);
				}
			}
		"####" AAA 0   
		C4S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C4S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C4S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C4S2"); }
			}
		"####" RSTU 1 
			{
				A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick1"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck

	ComboKick1:
		TNT1 A 0 {
			A_Overlay(-10, "FirstPersonLegsHide");
			A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, true);
		}
		TNT1 A 0 A_Recoil(-5)
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_GiveInventory("ComboSeq", 1)
		KIC2 ABCD 1 
		{
			A_SetRoll(roll-1,SPF_INTERPOLATE);
			A_SetAngle(-0.5 + angle,SPF_INTERPOLATE);
			A_SetPitch(+0.5 + pitch,SPF_INTERPOLATE);
		}
		TNT1 A 0 A_PlaySound("KICK", 0)
		KIC2 EFG 1
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, 3)
		TNT1 A 0 A_FireCustomMissile("KickAttack", 0, 0, 0, 0)
		TNT1 A 0 A_Jump(256, 2)
		TNT1 A 0 A_FireCustomMissile("SuperKickAttack", 0, 0, 0, 0)
		KIC2 HHI 1
		KIC2 JKLA 1 
		{
			A_SetRoll(roll+1,SPF_INTERPOLATE);
			A_SetAngle(+0.5 + angle,SPF_INTERPOLATE);
			A_SetPitch(-0.5 + pitch,SPF_INTERPOLATE);
		}
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_OverlayFlags (1,PSPF_PLAYERTRANSLATED, false)
		TNT1 AAA 1 
			{
				A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH|WRF_NOPRIMARY);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck
		
	ComboKick2:
		TNT1 A 0 {
			A_Overlay(-10, "FirstPersonLegsHide");
			A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, true);
		}
		TNT1 A 0 A_Recoil(-5)
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		TNT1 A 0 A_playsound("weapons/chainsaw/idle", 5)
		TNT1 A 0 A_GiveInventory("ComboSeq", 1)
		KIC3 ABCDE 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_PlaySound("KICK", 0)
		TNT1 A 0 A_JumpIfInventory("PowerStrength", 1, 5)
		KIC3 F 1 A_FireCustomMissile("KickAttack", -10, 0, 0, -8)
		KIC3 G 1 A_FireCustomMissile("KickAttack", 0, 0, 0, -2)
		KIC3 H 1 A_FireCustomMissile("KickAttack", 10, 0, 0, -8)
		
		TNT1 A 0 A_Jump(256, 5)
		TNT1 A 0
		KIC3 F 1 A_FireCustomMissile("SuperKickAttack", -10, 0, 0, -8)
		KIC3 G 1 A_FireCustomMissile("SuperKickAttack", 0, 0, 0, -2)
		KIC3 H 1 A_FireCustomMissile("SuperKickAttack", 10, 0, 0, -8)
		
		TNT1 A 0
		KIC3 IJKLM 1 A_SetRoll(roll-2)
		KIC3 NOPQR 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		TNT1 A 0 A_TakeInventory("Kicking", 1)
		TNT1 A 0 A_OverlayFlags(1,PSPF_PLAYERTRANSLATED, false)
		TNT1 AAA 1 
			{
				A_WeaponReady(WRF_NOBOB|WRF_NOSWITCH);
				
				if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
				if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
				if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
				if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
				if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
				if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
				if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
				if (CountInv("Taunting") == 1) { return state("Taunt"); }
				if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
				return state("");
			}
		Goto EndCheck

	SlashUp.Clean:
		C9S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C9S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C9S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C9S2"); }
			}
		"####" A 0 A_PlaySound("sawswing", 7, 0.5)
		"####" A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		"####" A 0 A_Recoil(-10)
		"####" A 0 A_AlertMonsters
		"####" ABC 1 A_SetRoll(roll+1,SPF_INTERPOLATE)
		"####" A 0 A_JumpIfInventory("PowerStrength", 1, "SlashUpZerk.Clean")
		"####" A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		"####" D 1 
		"####" A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		"####" E 1 
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		"####" F 1 
		"####" A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		"####" G 1 
		"####" A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		"####" H 1 

		"####" A 0 A_Jump(256, 12)
		SlashUpZerk.Clean:
		C9S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C9S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C9S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C9S2"); }
			}
		"####" A 0 A_FireCustomMissile("SawSwing", 15, 0, 0, -12)
		"####" D 1 A_FireCustomMissile("ZerkSwing", 15, 0, 0, -12)
		"####" A 0 A_FireCustomMissile("SawSwing", 8, 0, 0, -6)
		"####" E 1 A_FireCustomMissile("ZerkSwing", 8, 0, 0, -6)
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 2)
		"####" F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 2)
		"####" A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 7)
		"####" G 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 7)
		"####" A 0 A_FireCustomMissile("SawSwing", -10, 0, 0, 14)
		"####" H 1 A_FireCustomMissile("ZerkSwing", -10, 0, 0, 14)
		
		"####" AA 0

		"####" IJK 1
		"####" LMN 1 A_SetRoll(roll-1,SPF_INTERPOLATE)
		"####" OP 1
		"####" QR 1 
		{
			A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH);
			
			if (CountInv("DoPunch") == 1) { return state("QuickPunch"); }
			if (CountInv("Grabbing_A_Ledge") == 1) { return state("LedgeClimb"); }
			if (CountInv("GoWeaponSpecialAbility") == 1) { return state("WeaponSpecial"); }
			if (CountInv("UseEquipment") == 1) { return state("UseEquipment"); }
			if (CountInv("ToggleEquipment") == 1) { return state("SwitchEquipment"); }
			if (CountInv("GrabbedBarrel") == 1) { return state("GrabBarrel"); }
			if (CountInv("Kicking") == 1) { return state("ComboKick2"); }
			if (CountInv("Taunting") == 1) { return state("Taunt"); }
			if (CountInv("Salute1") == 1 || CountInv("Salute2") == 1) { return state("Salute"); }
			return state("");
		}
		Goto EndCheck

	SlashDown:
		C8S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C8S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C8S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C8S2"); }
			}
		"####" A 0 A_SetRoll(0)
		"####" A 0 A_AlertMonsters
		"####" A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		"####" A 0 A_TakeInventory("ComboSeq", 2)
		"####" A 0 A_TakeInventory("FiredGun", 1)
		"####" A 0 A_PlaySound("sawswing", 7, 0.5)
		"####" A 0 A_PlaySound("weapons/gswing", 0, 0.8)
		"####" A 0 A_Recoil(-5)

		"####" A 0 A_JumpIfInventory("PowerStrength", 1, "SlashDownZerkClean")
		"####" ABCD 1 
		"####" A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		"####" E 1 
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		"####" F 1 
		"####" AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		"####" G 1
		"####" A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		"####" H 1 
		"####" A 0 A_FireCustomMissile("SawNoPush", 20, 0, 0, -12)
		
		"####" A 1 A_Jump(256, 16)
	SlashDownZerkClean:
		C8S1 A 0 {
				if (CountInv("PowerGreenBloodOnVisor") == 1) { A_SetWeaponSprite("C8S4"); }
				if (CountInv("PowerBlueBloodOnVisor") == 1) { A_SetWeaponSprite("C8S3"); }
				if (CountInv("PowerBloodOnVisor") == 1) { A_SetWeaponSprite("C8S2"); }
			}
		"####" ABCD 1 
		"####" A 0 A_FireCustomMissile("SawSwing", -5, 0, 0, 14)
		"####" E 1 A_FireCustomMissile("ZerkSwing", -5, 0, 0, 14)
		"####" A 0 A_FireCustomMissile("SawSwing", 0, 0, 0, 7)
		"####" F 1 A_FireCustomMissile("ZerkSwing", 0, 0, 0, 7)
		"####" AA 0 A_FireCustomMissile("SawNoPush", 5, 0, 0, 2)
		"####" G 1 A_FireCustomMissile("ZerkSwing", 5, 0, 0, 2)
		"####" A 0 A_FireCustomMissile("SawNoPush", 13, 0, 0, -6)
		"####" H 1 A_FireCustomMissile("ZerkSwing", 13, 0, 0, -6)
		"####" A 0 A_FireCustomMissile("ZerkSwing", 20, 0, 0, -12)

		"####" AAA 0

		"####" IJ 1 
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 1 A_JumpIfInventory("Kicking",1,"KickRight")
		TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
		Goto EndCheck

	}
}


ACTOR SawSwing : FastProjectile
{
	Radius 6
	Height 6
	DamageType Cut
	Projectile 
	+FORCEXYBILLBOARD
	+NOEXTREMEDEATH
	+BLOODSPLATTER
	Damage 10
	Speed 40
	ProjectileKickBack 300
	Obituary "%o was sliced-n-diced by %k"
	SeeSound "none"
	DeathSound "none"
	Decal "SawDecalNew1"
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1
		Stop
	XDeath:
		TNT1 A 0 //A_SpawnItemEx("BloodHit",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_PlaySound("Machete/Yum", 3)
		TNT1 A 1
		Stop
	Death:
		TNT1 A 0 A_SpawnItemEx("SSawPuff3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 1
		Stop
	Crash:
		TNT1 A 0 A_SpawnItemEx("SSawPuff3",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 1
		Stop
	}
}


ACTOR SawNoPush : SawSwing
{
	Damage 14
	ProjectileKickBack 0
}

ACTOR ZerkSwing : SawSwing
{
	Radius 1
	Height 1
	Damage 2
	Speed 40
	ProjectileKickBack 100
	+RIPPER
	+NOBOSSRIP
	//-BLOODSPLATTER
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1
		TNT1 A 1
		Stop
	XDeath:
		TNT1 A 0
		TNT1 A 0 //A_SpawnItemEx("BloodHit",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		TNT1 A 0 A_PlaySound("Machete/Yum", 3)
		TNT1 A 1
		Stop
	Death:
		TNT1 A 0
		TNT1 A 1
		Stop
	Crash:
		TNT1 A 0
		TNT1 A 1
		Stop
	}
}

ACTOR ThrustKnockdown
{
+NOBLOCKMAP
+MISSILE
Radius 2
Height 2
Damagetype ExtremePunches
States    
	{
	Spawn:
	TNT1 A 0
	TNT1 A 1
	Goto Death

	Death:
	TNT1 A 0
	TNT1 A 0 A_Explode(2,150,0)
	TNT1 A 1
	TNT1 A 0 A_Explode(2,150,0)
	TNT1 A 1
	Stop
	}
}


